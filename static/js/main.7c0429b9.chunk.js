(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{198:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);var a=n(60),c=n.n(a),l=n(81),i=n(0),s=n.n(i),r=n(38),o=n.n(r),d=n(7),u=(n(198),n(86)),j=n(310),b=n(311),m=n(312),f=n(313),v=n(307),O=n(1);var h=n(179),x=n(301),p=n(32),g=n(296),N=n(306),y=n(308),k=n(36),w=n(37),C=n(175),S=n.n(C),M=function(){function e(){Object(k.a)(this,e),this.setUserData=function(e){window.localStorage.clear(),window.localStorage.setItem("authorization",e.accessToken),window.localStorage.setItem("refreshToken",e.refreshToken),window.localStorage.setItem("modules",e.modules),window.localStorage.setItem("userType",e.userType)},this.getUserData=function(e){return e?JSON.parse(window.localStorage.user)[e]:JSON.parse(window.localStorage.user)},this.getToken=function(){return window.localStorage.authorization||""},this.isLogged=function(){return"undefined"!==typeof window.localStorage.authorization&&""!==window.localStorage.authorization},this.logout=function(e){e&&e.preventDefault(),window.localStorage.clear(),window.location.reload()}}return Object(w.a)(e,[{key:"getModules",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?(window.localStorage.modules||"").split(",").includes(e)||"superAdmin"===window.localStorage.userType?e:null:(window.localStorage.modules||"").split(",")}},{key:"isSuperAdmin",value:function(){return"superAdmin"===window.localStorage.userType}},{key:"setTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";window.localStorage.setItem("theme",e);var t={light:"./css/antd.min.css",dark:"./css/antd.dark.min.css"},n=document.createElement("link");return n.rel="stylesheet",n.id="antd-stylesheet-"+e,n.href=t[e],document.head.appendChild(n),setTimeout((function(){var t,n;"light"===e&&(null===(t=document.getElementById("antd-stylesheet-dark"))||void 0===t||t.remove());"dark"===e&&(null===(n=document.getElementById("antd-stylesheet-light"))||void 0===n||n.remove())}),500),e}},{key:"getTheme",value:function(){var e;return null===(e=window.localStorage)||void 0===e?void 0:e.theme}},{key:"removeSpecialChars",value:function(e){return e.toLowerCase().replace(/[^a-z0-9 _-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}},{key:"handleInteger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null===e||void 0===e?void 0:e.replace(/[^0-9]/g,"");return t?null===n||void 0===n?void 0:n.substring(0,t):n}},{key:"handleFloat",value:function(e,t){var n=(e=e.replace(/[^0-9.]/g,"")).replace(/[\.\%]/g,(function(e,t,n){return"."===e&&n.indexOf(".")===t?".":""}));return t&&1*n>1*t&&(n=t),n}},{key:"toBase64",value:function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}},{key:"queryStringToJSON",value:function(e){"?"===(e=e||window.location.search.slice(1)).charAt(0)&&(e=e.slice(1));var t=e.split("&"),n={};return t.forEach((function(e){var t=e.split("="),a=t[0],c=decodeURIComponent(t[1]||"");n[a]?"[object Array]"===Object.prototype.toString.call(n[a])?n[a].push(c):n[a]=[n[a],c]:n[a]=c})),JSON.parse(JSON.stringify(n))}}]),e}(),A=new M,D=A.getModules(),F=A.isSuperAdmin(),I=S.a.create({baseURL:"localhost"!==window.location.hostname?"http://13.235.92.159:3003/":"http://localhost:3003/admin/"});I.interceptors.request.use((function(e){return F||"ignoreModule"===e.module||D.includes(e.module)?(e.headers.authorization="Bearer "+A.getToken(),e):Promise.reject(new Error("Unauthorized"))}),(function(e){return Promise.reject(e)})),I.interceptors.response.use((function(e){return e.data}),(function(e){var t,n,a={};"undefined"!==typeof e.response?((null===(n=a=null===(t=e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.message)||(a.message=e.message),a.errors&&Array.isArray(a.errors)&&(a.message=a.errors[0].msg)):a.message=e.message;return Promise.reject(a)}));var R=I,T=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"details",value:function(e,t){return R.post(this.baseURL+"profile/details",{params:e,module:t})}},{key:"list",value:function(e,t){return R.get(this.baseURL+"list",{params:e,module:t})}},{key:"listAll",value:function(e,t){return R.get(this.baseURL+"list/ALL",{params:e,module:t})}},{key:"save",value:function(e,t){return R.post(this.baseURL+"save",e,{module:t})}},{key:"delete",value:function(e,t){return R.delete("".concat(this.baseURL,"/delete/").concat(e),{module:t})}}]),e}();T.baseURL="user/";var L=n(25),q=n(12),_=n(303),Y=n(67),E=n(59),U=n(113),P=n(27),z=n.n(P),V=n(110),B=n(299),H=n(185),K=n(190),J=n(111),G=n(187),Z=n(300),Q=n(304),W=n(191),X=["placeholder","options","value","sort","defaultValue"],$=["format","getFormat","inputReadOnly","value","defaultValue","onChange","disablePastDate","disableUpcomingDate"];function ee(e){var t,n=e.placeholder,a=e.options,c=e.value,l=e.sort,i=e.defaultValue,s=Object(U.a)(e,X);if(!a.length>0&&(c=i),(c&&"object"!==typeof c||"boolean"===typeof c)&&(c+=""),"object"!==typeof a&&(a=[]),"undefined"===typeof(null===(t=a[0])||void 0===t?void 0:t.value)){var r=Object(E.a)(a);a=[],r.forEach((function(e){a.push({value:e.id||e._id,label:e.title||e.name})}))}return a.forEach((function(e){e.value+="",e.label+=""})),l&&a.sort((function(e,t){return(""+e.label).localeCompare(t.label)})),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(V.a,Object(q.a)({style:{width:"100%"},placeholder:n||"Select",options:a,value:null!==c&&"undefined"!==typeof c?c:void 0,filterOption:function(e,t){return t.label.toLowerCase().indexOf(e.toLowerCase())>=0}},s))})}function te(e){var t=e.format,n=e.getFormat,a=void 0===n?"YYYY-MM-DD":n,c=e.inputReadOnly,l=e.value,s=e.defaultValue,r=e.onChange,o=e.disablePastDate,d=void 0!==o&&o,u=e.disableUpcomingDate,j=void 0!==u&&u,b=Object(U.a)(e,$),m={};return"undefined"!==typeof l&&(m.value=z()(new Date(l||new Date),t||"DD MMM YYYY")),"undefined"!==typeof s&&(m.defaultValue=s?z()(new Date(s)):null),"undefined"!==typeof r&&(m.onChange=function(e){r(e?z()(e).format(a):null)}),Object(i.useEffect)((function(){r(z()(l).format(a))}),[]),Object(O.jsx)(B.a,Object(q.a)(Object(q.a)(Object(q.a)({format:t||"DD MMM YYYY",inputReadOnly:c||!0,disabledDate:function(e){var t=z()().format("YYYY-MM-DD");return d?e&&e<z()(t,"YYYY-MM-DD"):j?e&&e>z()(t,"YYYY-MM-DD"):void 0}},m),b),{},{style:{width:"100%"}}))}function ne(e){var t=e.col,n=void 0===t?3:t,a="object"===typeof e.value?"array":"string",c=Object(i.useState)(),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)([]),u=Object(d.a)(o,2),j=u[0],b=u[1],m=function(e){var t=1*typeof e.target.value!=="NaN"?e.target.value+"":1*e.target.value;e.target.checked?(s.push(t),r(Object(E.a)(s))):s.indexOf(t)>-1&&(s.splice(s.indexOf(t),1),r(Object(E.a)(s)))};return Object(i.useEffect)((function(){"string"===a?(s=e.value?e.value.split(",").map((function(e){return 1*e})):[],r(Object(E.a)(s))):r(Object(E.a)(e.value))}),[e.value]),Object(i.useEffect)((function(){var t=e.options.map((function(e,t){return e.value?{value:1*e.value,label:e.label}:e.id?{value:1*e.id,label:e.name||e.title||e.label}:e._id?{value:e._id+"",label:e.name||e.title||e.label}:null}));b(t)}),[e.options]),Object(i.useEffect)((function(){e.onChange(s)}),[(s||[]).join(",")]),Object(O.jsx)("div",{className:"row mingap",children:j.map((function(e,t){var a;return Object(O.jsx)("div",{className:"col-md-".concat(n," mb-2 form-group"),children:Object(O.jsx)("div",{className:"border p-1",children:Object(O.jsx)(J.a,{value:1*typeof e.value!=="NaN"?e.value+"":1*e.value,checked:null===(a=s)||void 0===a?void 0:a.includes(1*typeof e.value!=="NaN"?e.value+"":1*e.value),onChange:m,className:"mx-0 mr15",children:e.label})})},t)}))})}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";e&&("success"===t&&G.b.success(e),"error"===t&&G.b.error(e),"warning"===t&&G.b.warning(e))}function ce(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}var le=Object(i.forwardRef)((function(e,t){var n,a=e.fileCount,s=t,r=e.files;(Object(i.useEffect)((function(){b(r)}),[r]),r.length)?r=null===(n=r)||void 0===n?void 0:n.map((function(e,t){return{uid:t,url:e.url,status:"done",name:e.name}})):r=[];var o=Object(i.useState)(r),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)(!1),f=Object(d.a)(m,2),v=f[0],h=f[1],x=Object(i.useState)(""),p=Object(d.a)(x,2),g=p[0],N=p[1],y=Object(i.useState)(""),k=Object(d.a)(y,2),w=k[0],C=k[1],S=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,ce(t.originFileObj);case 3:t.preview=e.sent;case 4:h(!0),N(t.url||t.preview),C(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(O.jsxs)("div",{children:[Object(O.jsx)(W.a,{}),Object(O.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z.a,{listType:"picture-card",customRequest:function(e){var t=e.file,n=e.onSuccess;setTimeout((function(){var e;n("ok"),s.current.uploadingFiles||(s.current.uploadingFiles=[]),null===(e=s.current.uploadingFiles)||void 0===e||e.push(t)}),0)},fileList:j,onPreview:S,onChange:function(e){("removed"===e.file.status||e.file.status)&&function(e){var t=e.fileList;b(t)}(e)},beforeUpload:function(e){if(!e.type.includes("image/"))return G.b.error("Invalid file type"),!1},onRemove:function(e){var t;(s.current.deletingFiles||(s.current.deletingFiles=[]),e.thumbUrl)?s.current.uploadingFiles=s.current.uploadingFiles.filter((function(t){return t.uid!==e.uid})):null===(t=s.current.deletingFiles)||void 0===t||t.push(e)},children:j.length>=a?null:M}),Object(O.jsx)(Q.a,{visible:v,title:w,footer:null,onCancel:function(){return h(!1)},children:Object(O.jsx)("img",{alt:"example",style:{width:"100%"},src:g})})]})})),ie=le;function se(e){var t=e.callback,n=Object(i.useState)(!1),a=Object(d.a)(n,2),c=a[0],l=a[1],s=Object(i.useState)({}),r=Object(d.a)(s,2),o=r[0],u=r[1],j=Object(i.useRef)([]);Object(i.useEffect)((function(){!function(e){l(!0),T.details(e).then((function(e){var t;u((null===(t=e.result)||void 0===t?void 0:t.data)||{})})).catch((function(e){ae(e.message,"error")})).finally((function(){l(!1)}))}()}),[]);var b=function(e,t){u(Object(q.a)(Object(q.a)({},o),{},Object(L.a)({},t,e)))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(h.a,{spinning:c,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:[Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsxs)("div",{className:"row w-100",children:[Object(O.jsxs)("div",{className:"col-md-9",children:[Object(O.jsxs)("div",{className:"d-flex my-3",children:[Object(O.jsx)("span",{className:"w100 text-secondary text-bold",children:"Name :"}),Object(O.jsx)(_.a,{value:o.name||"",onChange:function(e){return b(e.target.value,"name")}})]}),Object(O.jsxs)("div",{className:"d-flex my-3",children:[Object(O.jsx)("span",{className:"w100 text-secondary text-bold",children:"username :"}),Object(O.jsx)(_.a,{value:o.username||"",onChange:function(e){return b(e.target.value,"username")}})]}),Object(O.jsxs)("div",{className:"d-flex my-3",children:[Object(O.jsx)("span",{className:"w100 text-secondary text-bold",children:"email :"}),Object(O.jsx)(_.a,{value:o.email||"",onChange:function(e){return b(e.target.value,"email")}})]})]}),Object(O.jsx)("div",{className:"col-md-3 my-3",children:Object(O.jsx)(ie,{ref:j,fileCount:1,files:o.image?[o.image]:[]})}),Object(O.jsxs)("div",{className:"row col-md-12",children:[Object(O.jsxs)("div",{className:"col-md-6 d-flex my-3 ",children:[Object(O.jsx)("span",{className:"w100 text-secondary text-bold",children:"Mobile :"}),Object(O.jsx)(_.a,{value:o.mobile||"",onChange:function(e){return b(e.target.value,"mobile")}})]}),Object(O.jsxs)("div",{className:"col-md-6 d-flex my-3",children:[Object(O.jsx)("span",{className:"w100 text-secondary text-bold",children:"Gender :"}),Object(O.jsx)(ee,{options:[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],value:o.gender,onChange:function(e){b(e,"gender")}})]}),Object(O.jsxs)("div",{className:"col-md-6 d-flex my-3",children:[Object(O.jsx)("span",{className:"w100 text-secondary text-bold",children:"DOB :"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",value:(o.dob||"")+"",onChange:function(e){b(e,"dob")}})]}),Object(O.jsxs)("div",{className:"col-md-12 d-flex my-3",children:[Object(O.jsx)("span",{className:"w100 text-secondary text-bold",children:"Address :"}),Object(O.jsx)(_.a.TextArea,{value:o.address||"",onChange:function(e){return b(e.target.value,"address")}})]})]})]})}),Object(O.jsx)("div",{className:"d-flex mt-2",children:Object(O.jsx)(p.a,{type:"primary",className:"ml-auto w100",onClick:function(){l(!0);for(var e=new FormData,n=0,a=Object.entries(o);n<a.length;n++){var c=Object(d.a)(a[n],2),i=c[0],s=c[1];e.append(i,s)}e.delete("image"),"undefined"!==typeof j.current.uploadingFiles&&e.append("image",j.current.uploadingFiles[0]),T.save(e).then((function(e){ae(e.message),t()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){l(!1)}))},disabled:c,children:"Save"})})]})})}function re(e){var t=e.cond,n=e.children;return t?n:Object(O.jsx)(O.Fragment,{})}var oe=Object(i.forwardRef)((function(e,t){var n=e.list,a=Object(i.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1];Object(i.useImperativeHandle)(t,(function(){return{openForm:function(){s(!0)},closeForm:function(){s(!1)}}}));var r=function(){s(!1)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(N.a,{title:"Update Profile",placement:"right",width:700,onClose:r,visible:l,extra:Object(O.jsxs)(y.b,{children:[Object(O.jsx)(p.a,{onClick:r,children:"Cancel"}),Object(O.jsx)(p.a,{type:"primary",onClick:r,children:"OK"})]}),children:Object(O.jsx)(re,{cond:l,children:Object(O.jsx)(se,{callback:n})})})})})),de=n(298);function ue(e){var t=e.sdata,n=e.handleSData,a=e.setSData;return Object(O.jsx)(re,{cond:t.total>0,children:Object(O.jsx)(H.a,{total:t.total,showTotal:function(){var e=(t.page-1)*t.limit*1+1,n=t.page*t.limit;return Object(O.jsx)(K.a,{color:"magenta",children:"Showing "+e+" - "+n+" out of "+t.total})},pageSize:t.limit,current:t.page,onChange:function(e,c){n(e,"page"),t.limit!==c&&a(Object(q.a)(Object(q.a)({},t),{},{page:1,limit:c}))},showSizeChanger:!0})})}function je(e){var t,n=e.columns,a=e.data,c=e.parentSData,l=e.loading,s=e.formRef,r=e.list,o=e.filters,u=e.searchPlaceholder,j=e.addNew,b=void 0===j||j,m=Object(i.useState)(Object(q.a)({},c)),f=Object(d.a)(m,2),v=f[0],h=f[1],x=function(e,t){"key"===t&&(v.page=1),h(Object(q.a)(Object(q.a)({},v),{},Object(L.a)({},t,e)))};Object(i.useEffect)((function(){c.total&&x(c.total,"total")}),[c.total]),Object(i.useEffect)((function(){v.total&&r(v)}),[v.page,v.limit]),a=null===(t=a)||void 0===t?void 0:t.map((function(e,t){return Object(q.a)({index:t+1,key:t},e)})),n=[{title:"#",dataIndex:"index",width:40}].concat(Object(E.a)(n));var p={bordered:!0,loading:l,size:"small",title:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(be,{sdata:v,handleSData:x,formRef:s,list:r,filters:o,searchPlaceholder:u,addNew:b})})},showHeader:!0,footer:function(){return Object(O.jsx)(ue,{sdata:v,handleSData:x,setSData:h})},scroll:void 0,hasData:!0,tableLayout:void 0,yScroll:"calc(100vh - 316px)"},g=p.xScroll,N=p.yScroll,y={};N&&(y.y=N),g&&(y.x=g);var k=n.map((function(e){return Object(q.a)({},e)}));return"fixed"===g&&(k[0].fixed=!0,k[k.length-1].fixed="right"),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(de.a,Object(q.a)(Object(q.a)({},p),{},{pagination:{position:["none"],pageSize:v.limit},columns:k,dataSource:p.hasData?a:null,scroll:y}))})}var be=function(e){var t=e.sdata,n=e.handleSData,a=e.formRef,c=e.list,l=e.filters,i=e.searchPlaceholder,r=e.addNew;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"d-flex",children:["undefined"!==typeof t.key?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_.a,{className:"w200 mx-1",allowClear:!0,placeholder:i||"Search",value:t.key||"",onChange:function(e){n(e.target.value,"key")}}),"undefined"!==typeof l?l.map((function(e,a){return Object(O.jsx)(s.a.Fragment,{children:"dropdown"===e.type?Object(O.jsx)(ee,{style:e.style,placeholder:e.placeholder||"Select",className:null===e||void 0===e?void 0:e.className,allowClear:!0,options:e.options,value:(null===t||void 0===t?void 0:t[e.key])||void 0,onChange:function(t){n(t,e.key)}}):null},a)})):null,Object(O.jsx)(p.a,{type:"primary",onClick:function(){c(t)},children:"Search"})]}):null,r?Object(O.jsx)(p.a,{type:"primary",className:"ml-auto",children:Object(O.jsxs)("span",{className:"d-flex",onClick:function(){a.current.openForm()},children:[Object(O.jsx)(W.a,{className:"my-auto mx-1"}),"Add New"]})}):null]})})},me=n(297),fe=n(309),ve=n(98),Oe=n(192),he=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"list",value:function(e,t){return R.get(this.baseURL+"/list",{params:e,module:t})}},{key:"listAll",value:function(e){return R.get(this.baseURL+"/list/all",{module:e})}},{key:"listAllIgnoreStatus",value:function(e){return R.get(this.baseURL+"/all/ignore-status",{module:e})}},{key:"save",value:function(e,t){return R.post(this.baseURL+"/save",e,{module:t})}},{key:"delete",value:function(e,t){return R.delete("".concat(this.baseURL,"/delete/").concat(e),{module:t})}}]),e}();function xe(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}he.baseURL="customer";var pe=Object(i.forwardRef)((function(e,t){var n,a=e.fileCount,s=e.files;s.length?s=null===(n=s)||void 0===n?void 0:n.map((function(e,t){return{uid:t,url:e.url,status:"done",name:e.name}})):s=[];var r=t,o=Object(i.useState)(s),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)(!1),f=Object(d.a)(m,2),v=f[0],h=f[1],x=Object(i.useState)(""),p=Object(d.a)(x,2),g=p[0],N=p[1],y=Object(i.useState)(""),k=Object(d.a)(y,2),w=k[0],C=k[1],S=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,xe(t.originFileObj);case 3:t.preview=e.sent;case 4:h(!0),N(t.url||t.preview),C(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(O.jsxs)("div",{children:[Object(O.jsx)(W.a,{}),Object(O.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z.a,{listType:"picture-card",customRequest:function(e){var t=e.file,n=e.onSuccess;setTimeout(Object(l.a)(c.a.mark((function e(){var a,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("ok"),r.current.uploadingFiles||(r.current.uploadingFiles=[]),e.next=4,xe(t);case 4:l=e.sent,null===(a=r.current.uploadingFiles)||void 0===a||a.push({uid:t.uid,base64:l});case 6:case"end":return e.stop()}}),e)}))),0)},fileList:j,onPreview:S,onChange:function(e){("removed"===e.file.status||e.file.status)&&function(e){var t=e.fileList;b(t)}(e)},multiple:a>1,onRemove:function(e){var t,n;(r.current.deletingFiles||(r.current.deletingFiles=[]),e.thumbUrl)?r.current.uploadingFiles=null===(t=r.current.uploadingFiles)||void 0===t?void 0:t.filter((function(t){return t.uid!==e.uid})):null===(n=r.current.deletingFiles)||void 0===n||n.push(e.name)},beforeUpload:function(e){if(!e.type.includes("image/"))return G.b.error("Invalid file type"),!1},children:j.length>=a?null:M}),Object(O.jsx)(Q.a,{visible:v,title:w,footer:null,onCancel:function(){return h(!1)},children:Object(O.jsx)("img",{alt:"example",style:{width:"100%"},src:g})})]})})),ge=pe,Ne=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"listSdt",value:function(e){return R.get(this.baseURL+"/sdt",{module:e})}}]),e}();Ne.baseURL="sdt";var ye={view:A.getModules("viewCustomer"),add:A.getModules("addCustomer"),edit:A.getModules("editCustomer"),delete:A.getModules("deleteCustomer")},ke=ye.view,we=ye.add,Ce=ye.edit,Se=ye.delete;var Me=Object(i.forwardRef)((function(e,t){var n=e.list,a=e.sdt,c=Object(i.useState)(!1),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(!1),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)({}),f=Object(d.a)(m,2),v=f[0],x=f[1],p=Object(i.useState)([]),g=Object(d.a)(p,2),N=g[0],y=g[1],k=Object(i.useState)([]),w=Object(d.a)(k,2),C=w[0],S=w[1],M=Object(i.useState)(!1),D=Object(d.a)(M,2),F=D[0],I=D[1],R=Object(i.useRef)(),T=function(e){b(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){R.current={},x(e?Object(q.a)({},e):{isActive:!0}),T(!0),!(null===e||void 0===e?void 0:e._id)&&we||(null===e||void 0===e?void 0:e._id)&&Ce?I(!0):I(!1)}}}));var E=function(e,t){x(Object(q.a)(Object(q.a)({},v),{},Object(L.a)({},t,e)))},U=function(){var e,t,a;r(!0),v.photo=null===R||void 0===R||null===(e=R.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.base64,he.save(v,v._id?Ce:we).then((function(e){ae(e.message),T(!1),n()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){r(!1)}))};return Object(i.useEffect)((function(){var e,t=(null===(e=a.find((function(e){return e._id===v.state})))||void 0===e?void 0:e.districts)||[];y((null===t||void 0===t?void 0:t.map((function(e){return{value:e._id,label:e.name,taluks:e.taluks}})))||[])}),[v.state]),Object(i.useEffect)((function(){var e,t=(null===N||void 0===N||null===(e=N.find((function(e){return e.value===v.district})))||void 0===e?void 0:e.taluks)||[];S(null===t||void 0===t?void 0:t.map((function(e){return{value:e._id,label:e.name}})))}),[v.district,N]),Object(i.useEffect)((function(){(function(){var e,t;return null===a||void 0===a||null===(e=a.find((function(e){return e._id===v.state})))||void 0===e||null===(t=e.districts.map((function(e){return e._id})))||void 0===t?void 0:t.includes(v.district)})()||E("","district")}),[v.state]),Object(i.useEffect)((function(){(function(){var e,t,n,c;return null===a||void 0===a||null===(e=a.find((function(e){return e._id===v.state})))||void 0===e||null===(t=e.districts.find((function(e){return e._id===v.district})))||void 0===t||null===(n=t.taluks)||void 0===n||null===(c=n.map((function(e){return e._id})))||void 0===c?void 0:c.includes(v.taluk)})()||E("","taluk")}),[v.district,N]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(v._id?"Edit":"Add")+" Customer",style:{top:20},visible:j,okText:"Save",onOk:U,okButtonProps:{disabled:s||!F,style:{display:F?"inline-block":"none"}},onCancel:function(){T(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:s,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),U()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!F,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"First Name"}),Object(O.jsx)(_.a,{value:v.firstName||"",onChange:function(e){return E(e.target.value,"firstName")}})]}),Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Last Name"}),Object(O.jsx)(_.a,{value:v.lastName||"",onChange:function(e){return E(e.target.value,"lastName")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Email"}),Object(O.jsx)(_.a,{value:v.email||"",onChange:function(e){return E(e.target.value,"email")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Phone No."}),Object(O.jsx)(_.a,{value:v.phoneNo||"",onChange:function(e){return E(A.handleInteger(e.target.value),"phoneNo")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsxs)("label",{className:v._id?"":"req",children:[v._id?"Update":"Set"," Password"]}),Object(O.jsx)(_.a,{value:v.password||"",onChange:function(e){return E(e.target.value,"password")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"DOB"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",value:v.dob||new Date,onChange:function(e){E(e,"dob")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"State"}),Object(O.jsx)(ee,{options:a.map((function(e){return{value:e._id,label:e.name}})),value:v.state,onChange:function(e){E(e,"state")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"District"}),Object(O.jsx)(ee,{options:N||[],value:v.district,onChange:function(e){E(e,"district")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Taluk"}),Object(O.jsx)(ee,{options:C||[],value:v.taluk,onChange:function(e){E(e,"taluk")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Zip Code"}),Object(O.jsx)(_.a,{value:v.zipcode||"",onChange:function(e){E(A.handleInteger(e.target.value,6),"zipcode")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Address"}),Object(O.jsx)(_.a.TextArea,{value:v.address||"",onChange:function(e){E(e.target.value,"address")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Image"}),Object(O.jsx)(ge,{ref:R,fileCount:1,files:v.image?[v.image]:[]})]}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:v.isActive,onChange:function(e){E(e,"isActive")}})]})]})})})})})})})),Ae=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"listModules",value:function(e,t){return R.get(this.baseURL+"/list-modules",{params:e,module:t})}},{key:"listModulesAll",value:function(e,t){return R.get(this.baseURL+"/list-modules/ALL",{params:e,module:t})}},{key:"saveModule",value:function(e,t){return R.post(this.baseURL+"/save-module",e,{module:t})}},{key:"deleteModule",value:function(e,t){return R.delete("".concat(this.baseURL,"/delete-module/").concat(e),{module:t})}},{key:"listAdminModules",value:function(e,t){return R.get(this.baseURL+"/admin-modules",{params:e,module:t})}},{key:"saveAdminModules",value:function(e,t){return R.post(this.baseURL+"/save-admin-modules",e,{module:t})}}]),e}();Ae.baseURL="adm";var De=Object(i.forwardRef)((function(e,t){var n=e.list,a=e.modules,c=Object(i.useState)(!1),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(!1),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)({}),f=Object(d.a)(m,2),v=f[0],x=f[1],g=function(e){b(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){x(Object(q.a)({},e)),g(!0)}}}));var N=function(e,t){x(Object(q.a)(Object(q.a)({},v),{},Object(L.a)({},t,e)))},y=function(){r(!0),Ae.saveAdminModules(v).then((function(e){ae(e.message),g(!1),n()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){r(!1)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:"Add / Remove Modules",style:{top:20},visible:j,okText:"Save",onOk:y,okButtonProps:{disabled:s},onCancel:function(){g(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:s,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),y()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{children:Object(O.jsx)("div",{className:"row mingap",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"col-md-12 form-group",children:Object(O.jsxs)("div",{className:"d-flex mb-2",children:[Object(O.jsx)(p.a,{size:"small",danger:!0,className:"ml-auto mx-2",onClick:function(){N([],"grantedModules")},children:" Uncheck All Modules"}),Object(O.jsx)(p.a,{size:"small",type:"primary",onClick:function(){N(null===a||void 0===a?void 0:a.map((function(e){return null===e||void 0===e?void 0:e._id})),"grantedModules")},children:" Check All Modules"})]})}),Object(O.jsx)("div",{className:"col-md-12 form-group",children:Object(O.jsx)(ne,{options:null===a||void 0===a?void 0:a.map((function(e){return{_id:e.key,label:e.title}})),value:v.grantedModules,onChange:function(e){!(null===e||void 0===e?void 0:e.length)||N(e,"grantedModules")}})})]})})})})})})})})),Fe={userType:""};function Ie(e){var t=e.data,n=e.handleChange,a=e.key,c=void 0===a?"type":a,l=Object(i.useState)(Object(q.a)({},t)),s=Object(d.a)(l,2),r=s[0],o=s[1],u="superAdmin"===Fe.userType?[{value:"stateAdmin",label:"State Admin"},{value:"districtAdmin",label:"District Admin"},{value:"talukAdmin",label:"Taluk Admin"}]:"stateAdmin"===Fe.userType?[{value:"districtAdmin",label:"District Admin"},{value:"talukAdmin",label:"Taluk Admin"}]:"talukAdmin"===Fe.userType?[{value:"talukAdmin",label:"Taluk Admin"}]:[];return Object(i.useEffect)((function(){o(Object(q.a)({},t))}),[t[c]]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(ee,{options:u,value:r[c],onChange:function(e){n(e,c)}})})}var Re={view:A.getModules("viewUser"),add:A.getModules("addUser"),edit:A.getModules("editUser"),delete:A.getModules("deleteUser")},Te=Re.view,Le=Re.add,qe=Re.edit,_e=Re.delete;var Ye=Object(i.forwardRef)((function(e,t){var n=e.list,a=e.sdt,c=Object(i.useState)(!1),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(!1),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)({}),f=Object(d.a)(m,2),v=f[0],x=f[1],p=Object(i.useState)([]),g=Object(d.a)(p,2),N=g[0],y=g[1],k=Object(i.useState)([]),w=Object(d.a)(k,2),C=w[0],S=w[1],M=Object(i.useState)(!1),D=Object(d.a)(M,2),F=D[0],I=D[1],R=Object(i.useRef)(),E=function(e){b(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){R.current={},x(e?Object(q.a)({},e):{isActive:!0}),E(!0),!(null===e||void 0===e?void 0:e._id)&&Le||e._id&&qe?I(!0):I(!1)}}}));var U=function(e,t){x(Object(q.a)(Object(q.a)({},v),{},Object(L.a)({},t,e)))},P=function(){var e,t,a;r(!0),v.photo=null===R||void 0===R||null===(e=R.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.base64,T.save(v,v._id?qe:Le).then((function(e){ae(e.message),E(!1),n()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){r(!1)}))};return Object(i.useEffect)((function(){var e,t=(null===(e=a.find((function(e){return e._id===v.state})))||void 0===e?void 0:e.districts)||[];y((null===t||void 0===t?void 0:t.map((function(e){return{value:e._id,label:e.name,taluks:e.taluks}})))||[])}),[v.state]),Object(i.useEffect)((function(){var e,t=(null===N||void 0===N||null===(e=N.find((function(e){return e.value===v.district})))||void 0===e?void 0:e.taluks)||[];S(null===t||void 0===t?void 0:t.map((function(e){return{value:e._id,label:e.name}})))}),[v.district,N]),Object(i.useEffect)((function(){(function(){var e,t;return null===a||void 0===a||null===(e=a.find((function(e){return e._id===v.state})))||void 0===e||null===(t=e.districts.map((function(e){return e._id})))||void 0===t?void 0:t.includes(v.district)})()||U("","district")}),[v.state]),Object(i.useEffect)((function(){(function(){var e,t,n,c;return null===a||void 0===a||null===(e=a.find((function(e){return e._id===v.state})))||void 0===e||null===(t=e.districts.find((function(e){return e._id===v.district})))||void 0===t||null===(n=t.taluks)||void 0===n||null===(c=n.map((function(e){return e._id})))||void 0===c?void 0:c.includes(v.taluk)})()||U("","taluk")}),[v.district,N]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(v._id?"Edit":"Add")+" User",style:{top:20},visible:j,okText:"Save",onOk:P,okButtonProps:{disabled:s||!F,style:{display:F?"inline-block":"none"}},onCancel:function(){E(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:s,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),P()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!F,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Type"}),Object(O.jsx)(Ie,{data:v,handleChange:U})]}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"First Name"}),Object(O.jsx)(_.a,{value:v.firstName||"",onChange:function(e){return U(e.target.value,"firstName")}})]}),Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Last Name"}),Object(O.jsx)(_.a,{value:v.lastName||"",onChange:function(e){return U(e.target.value,"lastName")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Email"}),Object(O.jsx)(_.a,{value:v.email||"",onChange:function(e){return U(e.target.value,"email")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Phone No."}),Object(O.jsx)(_.a,{value:v.phoneNo||"",onChange:function(e){return U(A.handleInteger(e.target.value),"phoneNo")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsxs)("label",{className:v._id?"":"req",children:[v._id?"Update":"Set"," Password"]}),Object(O.jsx)(_.a,{value:v.password||"",onChange:function(e){return U(e.target.value,"password")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"DOB"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",value:v.dob||new Date,onChange:function(e){U(e,"dob")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"State"}),Object(O.jsx)(ee,{options:a.map((function(e){return{value:e._id,label:e.name}})),value:v.state,onChange:function(e){U(e,"state")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"District"}),Object(O.jsx)(ee,{options:N||[],value:v.district,onChange:function(e){U(e,"district")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Taluk"}),Object(O.jsx)(ee,{options:C||[],value:v.taluk,onChange:function(e){U(e,"taluk")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Zip Code"}),Object(O.jsx)(_.a,{value:v.zipcode||"",onChange:function(e){U(A.handleInteger(e.target.value,6),"zipcode")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Address"}),Object(O.jsx)(_.a.TextArea,{value:v.address||"",onChange:function(e){U(e.target.value,"address")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Image"}),Object(O.jsx)(ge,{ref:R,fileCount:1,files:v.image?[v.image]:[]})]}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:v.isActive,onChange:function(e){U(e,"isActive")}})]})]})})})})})})})),Ee=n(33),Ue=n(302);function Pe(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!0),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useRef)(),u=Object(i.useState)({key:"",page:1,limit:20,total:0}),j=Object(d.a)(u,2),b=j[0],m=j[1],f=[{title:"Title",dataIndex:"title"},{title:"Key",dataIndex:"key",width:200},{title:"Action",width:90,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){o.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}),Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this admin?",onConfirm:function(){return h(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})})]})}}].filter((function(e){return!e.hidden})),v=function(e){"undefined"===typeof e&&(e=b),r(!0),Ae.listModules(e).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,m(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){r(!1)}))},h=function(e){Ae.deleteModule(e).then((function(e){ae(e.message),v()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){v()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Module List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:f,parentSData:b,loading:s,formRef:o,list:v,searchPlaceholder:"Name or Key"})}),Object(O.jsx)(ze,{ref:o,list:v})]})}var ze=Object(i.forwardRef)((function(e,t){var n=e.list,a=Object(i.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1],r=Object(i.useState)(!1),o=Object(d.a)(r,2),u=o[0],j=o[1],b=Object(i.useState)({}),m=Object(d.a)(b,2),f=m[0],v=m[1],x=Object(i.useRef)(),p=function(e){j(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){x.current={},v(e?Object(q.a)({},e):{isActive:!0}),p(!0)}}}));var g=function(e,t){v(Object(q.a)(Object(q.a)({},f),{},Object(L.a)({},t,e)))},N=function(){var e,t,a;s(!0),f.photo=null===x||void 0===x||null===(e=x.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.base64,Ae.saveModule(f).then((function(e){ae(e.message),p(!1),n()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){s(!1)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(f._id?"Edit":"Add")+" Module",style:{top:20},visible:u,okText:"Save",onOk:N,okButtonProps:{disabled:l},onCancel:function(){p(!1)},destroyOnClose:!0,maskClosable:!1,width:400,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:l,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),N()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Title"}),Object(O.jsx)(_.a,{value:f.title||"",onChange:function(e){return g(e.target.value,"title")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Key"}),Object(O.jsx)(_.a,{value:f.key||"",onChange:function(e){return g(e.target.value,"key")}})]})]})})})})})})})),Ve=[{component:Pe,name:"Module",key:"module"}];var Be=Object(i.forwardRef)((function(){var e,t,n=Ue.a.TabPane,a=Object(Ee.f)(),c=Object(i.useState)((null===(e=A.queryStringToJSON(null===(t=a.location)||void 0===t?void 0:t.search))||void 0===e?void 0:e.tab)||Ve[0].key),l=Object(d.a)(c,2),s=l[0],r=l[1];return Object(i.useEffect)((function(){a.push({search:"?tab=".concat(s)}),document.querySelector(".ant-tabs-content-holder").scrollTop=0}),[s]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Ue.a,{activeKey:s,className:"border overflow-y-auto",type:"card",size:"small",onChange:function(e){r(e)},children:Ve.map((function(e){return Object(O.jsx)(n,{tab:e.name,children:s===e.key?Object(O.jsx)(e.component,{}):null},e.key)}))})})})),He=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"listColor",value:function(e,t){return R.get(this.baseURL+"color/list",{params:e,module:t})}},{key:"listAllColor",value:function(e,t){return R.get(this.baseURL+"color/list/ALL",{params:e,module:t})}},{key:"saveColor",value:function(e,t){return R.post(this.baseURL+"color/save",e,{module:t})}},{key:"deleteColor",value:function(e,t){return R.delete("".concat(this.baseURL,"color/delete/").concat(e),{module:t})}},{key:"listMake",value:function(e,t){return R.get(this.baseURL+"make/list",{params:e,module:t})}},{key:"listAllMake",value:function(e,t){return R.get(this.baseURL+"make/list/ALL",{params:e,module:t})}},{key:"saveMake",value:function(e,t){return R.post(this.baseURL+"make/save",e,{module:t})}},{key:"deleteMake",value:function(e,t){return R.delete("".concat(this.baseURL,"make/delete/").concat(e),{module:t})}},{key:"listMakeModel",value:function(e,t){return R.get(this.baseURL+"make-model/list",{params:e,module:t})}},{key:"listAllMakeModel",value:function(e,t){return R.get(this.baseURL+"make-model/list/ALL",{params:e,module:t})}},{key:"saveMakeModel",value:function(e,t){return R.post(this.baseURL+"make-model/save",e,{module:t})}},{key:"deleteMakeModel",value:function(e,t){return R.delete("".concat(this.baseURL,"make-model/delete/").concat(e),{module:t})}},{key:"listCategory",value:function(e,t){return R.get(this.baseURL+"category/list",{params:e,module:t})}},{key:"listAllCategory",value:function(e,t){return R.get(this.baseURL+"category/list/ALL",{params:e,module:t})}},{key:"saveCategory",value:function(e,t){return R.post(this.baseURL+"category/save",e,{module:t})}},{key:"deleteCategory",value:function(e,t){return R.delete("".concat(this.baseURL,"category/delete/").concat(e),{module:t})}},{key:"list",value:function(e,t){return R.get(this.baseURL+"list",{params:e,module:t})}},{key:"listAll",value:function(e,t){return R.get(this.baseURL+"list/ALL",{params:e,module:t})}},{key:"save",value:function(e,t){return R.post(this.baseURL+"save",e,{module:t})}},{key:"delete",value:function(e,t){return R.delete("".concat(this.baseURL,"delete/").concat(e),{module:t})}}]),e}();He.baseURL="vehicle/";var Ke={view:A.getModules("viewVehicleCategory"),add:A.getModules("addVehicleCategory"),edit:A.getModules("editVehicleCategory"),delete:A.getModules("deleteVehicleCategory")},Je=Ke.view,Ge=Ke.add,Ze=Ke.edit,Qe=Ke.delete;var We=Object(i.forwardRef)((function(e,t){var n=e.list,a=Object(i.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1],r=Object(i.useState)(!1),o=Object(d.a)(r,2),u=o[0],j=o[1],b=Object(i.useState)({}),m=Object(d.a)(b,2),f=m[0],v=m[1],x=Object(i.useState)(!1),p=Object(d.a)(x,2),g=p[0],N=p[1],y=Object(i.useRef)(),k=function(e){j(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){y.current={},v(e?Object(q.a)({},e):{isActive:!0}),k(!0),!(null===e||void 0===e?void 0:e._id)&&Ge||e._id&&Ze?N(!0):N(!1)}}}));var w=function(e,t){v(Object(q.a)(Object(q.a)({},f),{},Object(L.a)({},t,e)))};Object(i.useEffect)((function(){w(A.removeSpecialChars(f.name||""),"slug")}),[f.name]);var C=function(){var e,t,a;s(!0),f.photo=null===y||void 0===y||null===(e=y.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.base64,He.saveCategory(f,f._id?Ze:Ge).then((function(e){ae(e.message),k(!1),n()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){s(!1)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(f._id?"Edit":"Add")+" Vehicle Category",style:{top:20},visible:u,okText:"Save",onOk:C,okButtonProps:{disabled:l||!g,style:{display:g?"inline-block":"none"}},onCancel:function(){k(!1)},destroyOnClose:!0,maskClosable:!1,width:400,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:l,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),C()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!g,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Name"}),Object(O.jsx)(_.a,{value:f.name||"",onChange:function(e){return w(e.target.value,"name")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Slug"}),Object(O.jsx)(_.a,{value:f.slug||"",onChange:function(e){return w(A.removeSpecialChars(e.target.value),"slug")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Image"}),Object(O.jsx)(ge,{ref:y,fileCount:1,files:f.image?[f.image]:[]})]}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:f.isActive,onChange:function(e){w(e,"isActive")}})]})]})})})})})})})),Xe=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"listServiceType",value:function(){return R.get(this.baseURL+"/list-service-type",{module:"ignoreModule"})}}]),e}();Xe.baseURL="common";var $e=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"listRideType",value:function(e,t){return R.get(this.baseURL+"type/list",{params:e,module:t})}},{key:"listAllRideType",value:function(e,t){return R.get(this.baseURL+"type/list/ALL",{params:e,module:t})}},{key:"saveRideType",value:function(e,t){return R.post(this.baseURL+"type/save",e,{module:t})}}]),e}();$e.baseURL="ride/";var et=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"list",value:function(e,t){return R.get(this.baseURL+"list",{params:e,module:t})}},{key:"listAll",value:function(e,t){return R.get(this.baseURL+"list/ALL",{params:e,module:t})}},{key:"save",value:function(e,t){return R.post(this.baseURL+"save",e,{module:t})}},{key:"delete",value:function(e,t){return R.delete("".concat(this.baseURL,"/delete/").concat(e),{module:t})}}]),e}();et.baseURL="driver/";var tt={view:A.getModules("viewDriver"),add:A.getModules("addDriver"),edit:A.getModules("editDriver"),delete:A.getModules("deleteDriver")},nt=tt.view,at=tt.add,ct=tt.edit,lt=tt.delete;function it(e){var t=e.vehicleData,n=e.setVisible,a=Object(i.useState)(),c=Object(d.a)(a,2),l=c[0],s=c[1],r=Object(i.useState)([]),o=Object(d.a)(r,2),u=o[0],j=o[1],b=Object(i.useState)(!0),m=Object(d.a)(b,2),f=m[0],v=m[1],h=Object(i.useState)([]),x=Object(d.a)(h,2),g=x[0],N=(x[1],Object(i.useState)([])),y=Object(d.a)(N,2),k=y[0],w=y[1],C=Object(i.useState)([{type:"dropdown",key:"isApproved",className:"w200 mx-1",placeholder:"Approval Status",options:[{id:0,name:"Not Approved"},{id:1,name:"Approved"}]}]),S=Object(d.a)(C,2),M=S[0],A=S[1],D=Object(i.useRef)(),F=Object(i.useState)({key:"",page:1,limit:20,total:0,vehicleId:null===t||void 0===t?void 0:t._id}),I=Object(d.a)(F,2),R=I[0],T=I[1],L=[{title:"Driver Id",dataIndex:"driverId",width:200},{title:"Name",dataIndex:"firstName",render:function(e,t){return t.firstName+" "+t.lastName}},{title:"Email",dataIndex:"email",width:200},{title:"Phone No",dataIndex:"phoneNo",width:100},{title:"Approval Status",dataIndex:"isApproved",width:120,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Approved"}):Object(O.jsx)(K.a,{color:"red",children:"Not Approved"})}},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:90,hidden:!at&&!ct&&!lt&&!nt,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[ct?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){D.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!ct&&nt?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){D.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null,lt?Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this driver?",onConfirm:function(){return Y(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})}):null]})}}].filter((function(e){return!e.hidden})),_=function(e){"undefined"===typeof e&&(e=R),v(!0),et.list(e,nt).then((function(t){var n,a,c=e;c.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,T(Object(q.a)({},c)),s((null===(a=t.result)||void 0===a?void 0:a.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){v(!1)}))},Y=function(e){et.delete(e,lt).then((function(e){ae(e.message),_()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){k.length>0&&A([].concat(Object(E.a)(M),[{type:"dropdown",key:"serviceType",placeholder:"Service Type",className:"w200 mx-1",options:k}]))}),[k]),Object(i.useEffect)((function(){_(),Ne.listSdt("ignoreModule").then((function(e){j(e.result.data||[])})),Xe.listServiceType().then((function(e){w(e.result.data)}))}),[]),Object(i.useEffect)((function(){t&&"object"===typeof l&&D.current.openForm((null===l||void 0===l?void 0:l[0])?null===l||void 0===l?void 0:l[0]:{vehicle:t._id,isActive:!0,isApproved:!1})}),[l]),Object(O.jsxs)(O.Fragment,{children:[t?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Driver List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:l,columns:L,filters:M,parentSData:R,loading:f,formRef:D,list:_,searchPlaceholder:"First Name or Last Name or Driver Id",addNew:at})})]}),Object(O.jsx)(st,{ref:D,list:_,sdt:u,vehicles:g,setVisibleParent:n})]})}var st=Object(i.forwardRef)((function(e,t){var n,a=e.list,c=e.sdt,l=(e.vehicles,e.setVisibleParent),s=Object(i.useState)(!1),r=Object(d.a)(s,2),o=r[0],u=r[1],j=Object(i.useState)(!1),b=Object(d.a)(j,2),m=b[0],f=b[1],v=Object(i.useState)({}),x=Object(d.a)(v,2),p=x[0],N=x[1],y=Object(i.useState)([]),k=Object(d.a)(y,2),w=k[0],C=k[1],S=Object(i.useState)([]),M=Object(d.a)(S,2),D=M[0],F=M[1],I=Object(i.useState)(!1),R=Object(d.a)(I,2),T=R[0],E=R[1],U=Object(i.useRef)(),P=Object(i.useRef)(),V=Object(i.useRef)(),B=Object(i.useRef)(),H=Object(i.useRef)(),K=function(e){f(e),l&&!e&&l(!1)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){var t;e||(e={}),U.current={},P.current={},V.current={},B.current={},H.current={},e.dob=z()(e.dob).format("YYYY-MM-DD"),N(e?Object(q.a)({},e):{isActive:!0,isApproved:!1}),K(!0),!(null===(t=e)||void 0===t?void 0:t._id)&&at||e._id&&ct?E(!0):E(!1)}}}));var J=function(e,t){N(Object(q.a)(Object(q.a)({},p),{},Object(L.a)({},t,e)))},G=function(){var e,t,n,c,l,i,s,r,o,d,j,b,m,f,v;u(!0),p.photo=null===U||void 0===U||null===(e=U.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.base64,p.drivingLicencePhoto=null===P||void 0===P||null===(c=P.current)||void 0===c||null===(l=c.uploadingFiles)||void 0===l||null===(i=l[0])||void 0===i?void 0:i.base64,p.adharCardPhoto=null===V||void 0===V||null===(s=V.current)||void 0===s||null===(r=s.uploadingFiles)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.base64,p.panCardPhoto=null===B||void 0===B||null===(d=B.current)||void 0===d||null===(j=d.uploadingFiles)||void 0===j||null===(b=j[0])||void 0===b?void 0:b.base64,p.badgePhoto=null===H||void 0===H||null===(m=H.current)||void 0===m||null===(f=m.uploadingFiles)||void 0===f||null===(v=f[0])||void 0===v?void 0:v.base64,et.save(p,p._id?ct:at).then((function(e){ae(e.message),K(!1),a()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){u(!1)}))};return Object(i.useEffect)((function(){var e,t=(null===(e=c.find((function(e){return e._id===p.state})))||void 0===e?void 0:e.districts)||[];C((null===t||void 0===t?void 0:t.map((function(e){return{value:e._id,label:e.name,taluks:e.taluks}})))||[])}),[p.state]),Object(i.useEffect)((function(){var e,t=(null===w||void 0===w||null===(e=w.find((function(e){return e.value===p.district})))||void 0===e?void 0:e.taluks)||[];F(null===t||void 0===t?void 0:t.map((function(e){return{value:e._id,label:e.name}})))}),[p.district,w]),Object(i.useEffect)((function(){(function(){var e,t;return null===c||void 0===c||null===(e=c.find((function(e){return e._id===p.state})))||void 0===e||null===(t=e.districts.map((function(e){return e._id})))||void 0===t?void 0:t.includes(p.district)})()||J("","district")}),[p.state]),Object(i.useEffect)((function(){(function(){var e,t,n,a;return null===c||void 0===c||null===(e=c.find((function(e){return e._id===p.state})))||void 0===e||null===(t=e.districts.find((function(e){return e._id===p.district})))||void 0===t||null===(n=t.taluks)||void 0===n||null===(a=n.map((function(e){return e._id})))||void 0===a?void 0:a.includes(p.taluk)})()||J("","taluk")}),[p.district,w]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(p._id?"Edit":"Add")+" Driver",style:{top:20},visible:m,okText:"Save",onOk:G,okButtonProps:{disabled:o||!T,style:{display:T?"inline-block":"none"}},onCancel:function(){K(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:o,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),G()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!T,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Vehicle"})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Vehicle"}),Object(O.jsx)(_.a,{value:(null===p||void 0===p||null===(n=p.vehicleDetails)||void 0===n?void 0:n.name)||"",disabled:!0})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Personal Details "})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Driver Id"}),Object(O.jsx)(_.a,{value:p.driverId||"",onChange:function(e){return J(A.handleInteger(e.target.value),"driverId")}})]}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"First Name"}),Object(O.jsx)(_.a,{value:p.firstName||"",onChange:function(e){return J(e.target.value,"firstName")}})]}),Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Last Name"}),Object(O.jsx)(_.a,{value:p.lastName||"",onChange:function(e){return J(e.target.value,"lastName")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Email"}),Object(O.jsx)(_.a,{value:p.email||"",onChange:function(e){return J(e.target.value,"email")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Phone No."}),Object(O.jsx)(_.a,{value:p.phoneNo||"",onChange:function(e){return J(A.handleInteger(e.target.value),"phoneNo")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsxs)("label",{className:p._id?"":"req",children:[p._id?"Update":"Set"," Password"]}),Object(O.jsx)(_.a,{value:p.password||"",onChange:function(e){return J(e.target.value,"password")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"DOB"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",value:p.dob||new Date,onChange:function(e){J(e,"dob")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"State"}),Object(O.jsx)(ee,{options:c.map((function(e){return{value:e._id,label:e.name}})),value:p.state,onChange:function(e){J(e,"state")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"District"}),Object(O.jsx)(ee,{options:w||[],value:p.district,onChange:function(e){J(e,"district")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Taluk"}),Object(O.jsx)(ee,{options:D||[],value:p.taluk,onChange:function(e){J(e,"taluk")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Zip Code"}),Object(O.jsx)(_.a,{value:p.zipcode||"",onChange:function(e){J(A.handleInteger(e.target.value,6),"zipcode")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Address"}),Object(O.jsx)(_.a.TextArea,{value:p.address||"",onChange:function(e){J(e.target.value,"address")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Image"}),Object(O.jsx)(ge,{ref:U,fileCount:1,files:p.image?[p.image]:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Driving Licence Details "})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Driving Licence Number"}),Object(O.jsx)(_.a,{value:p.drivingLicenceNumber||"",onChange:function(e){return J(e.target.value,"drivingLicenceNumber")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Driving Licence Number Expiry Date"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",value:p.drivingLicenceNumberExpiryDate||new Date,onChange:function(e){J(e,"drivingLicenceNumberExpiryDate")}})]}),Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Driving Licence photo"}),Object(O.jsx)(ge,{ref:P,fileCount:1,files:p.drivingLicenceImage?[p.drivingLicenceImage]:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Adhar Details "})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Adhar Number"}),Object(O.jsx)(_.a,{value:p.adharNo||"",onChange:function(e){return J(e.target.value,"adharNo")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Adhar Card photo"}),Object(O.jsx)(ge,{ref:V,fileCount:1,files:p.adharCardImage?[p.adharCardImage]:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Pan Card Details "})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Pan No."}),Object(O.jsx)(_.a,{value:p.panNo||"",onChange:function(e){return J(e.target.value,"panNo")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Pan Card photo"}),Object(O.jsx)(ge,{ref:B,fileCount:1,files:p.panCardImage?[p.panCardImage]:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Badge Details "})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Badge No."}),Object(O.jsx)(_.a,{value:p.badgeNo||"",onChange:function(e){return J(e.target.value,"badgeNo")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Badge photo"}),Object(O.jsx)(ge,{ref:H,fileCount:1,files:p.badgeImage?[p.badgeImage]:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Status "})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Approval Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Approved"},{value:!1,label:"Not Approved"}],value:p.isApproved,onChange:function(e){J(e,"isApproved")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:p.isActive,onChange:function(e){J(e,"isActive")}})]})]})})})})})})})),rt={view:A.getModules("viewVehicle"),add:A.getModules("addVehicle"),edit:A.getModules("editVehicle"),delete:A.getModules("deleteVehicle")},ot=rt.view,dt=rt.add,ut=rt.edit,jt=rt.delete;var bt=Object(i.forwardRef)((function(e,t){var n,a,c=e.list,l=e.serviceType,s=e.rideTypes,r=e.makes,o=e.colors,u=e.sdt,j=Object(i.useState)(!1),b=Object(d.a)(j,2),m=b[0],f=b[1],v=Object(i.useState)(!1),x=Object(d.a)(v,2),p=x[0],N=x[1],y=Object(i.useState)({}),k=Object(d.a)(y,2),w=k[0],C=k[1],S=Object(i.useState)([]),M=Object(d.a)(S,2),D=M[0],F=M[1],I=Object(i.useState)([]),R=Object(d.a)(I,2),T=R[0],U=R[1],P=Object(i.useState)(!1),V=Object(d.a)(P,2),B=V[0],H=V[1],K=Object(i.useState)([]),J=Object(d.a)(K,2),G=J[0],Z=J[1],W=Object(i.useState)([]),X=Object(d.a)(W,2),$=X[0],ce=X[1],le=Object(i.useState)([]),ie=Object(d.a)(le,2),se=ie[0],re=ie[1],oe=Object(i.useRef)(),de=Object(i.useRef)(),ue=Object(i.useRef)(),je=Object(i.useRef)(),be=Object(i.useRef)(),me=Object(i.useRef)(),fe=function(e){N(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){var t;e||(e={}),oe.current={},de.current={},ue.current={},je.current={},be.current={},me.current={},e.registrationExpiryDate=z()(e.registrationExpiryDate).format("YYYY-MM-DD"),e.insuranceExpiryDate=z()(e.insuranceExpiryDate).format("YYYY-MM-DD"),e.permitExpiryDate=z()(e.permitExpiryDate).format("YYYY-MM-DD"),e.pollutionExpiryDate=z()(e.pollutionExpiryDate).format("YYYY-MM-DD"),C(e?Object(q.a)({},e):{isActive:!0}),fe(!0),!(null===(t=e)||void 0===t?void 0:t._id)&&dt||e._id&&ut?H(!0):H(!1)}}}));var ve=function(e,t){C(Object(q.a)(Object(q.a)({},w),{},Object(L.a)({},t,e)))};Object(i.useEffect)((function(){ve(A.removeSpecialChars(w.name||""),"slug")}),[w.name]),Object(i.useEffect)((function(){var e=null===s||void 0===s?void 0:s.filter((function(e){if(e.serviceType._id===w.serviceType)return e.serviceType}));F(e||[])}),[w.serviceType]),Object(i.useEffect)((function(){ve([],"rideTypes")}),[D]),Object(i.useEffect)((function(){var e,t,n,a=null===s||void 0===s?void 0:s.filter((function(e){var t;return null===(t=w.rideTypes)||void 0===t?void 0:t.includes(e._id)}));a=null===(n=a=null===(e=a)||void 0===e||null===(t=e.map((function(e){return e.allowedVehicleCategoriesDetails})))||void 0===t?void 0:t.flat(1))||void 0===n?void 0:n.filter((function(e,t,n){return t===n.findIndex((function(t){return t._id===e._id}))})),U(a)}),[D,w.rideTypes]),Object(i.useEffect)((function(){var e,t=(null===r||void 0===r||null===(e=r.find((function(e){return w.make===e._id})))||void 0===e?void 0:e.models)||[];Z(Object(E.a)(t))}),[w.make]),Object(i.useEffect)((function(){var e;(null===G||void 0===G||null===(e=G.map((function(e){return e._id})))||void 0===e?void 0:e.includes(null===w||void 0===w?void 0:w.model))||ve("","model")}),[G]),Object(i.useEffect)((function(){var e,t;ve(((null===r||void 0===r||null===(e=r.find((function(e){return e._id===w.make})))||void 0===e?void 0:e.name)||"")+" - "+((null===G||void 0===G||null===(t=G.find((function(e){return e._id===w.model})))||void 0===t?void 0:t.name)||""),"name")}),[w.make,w.model]),Object(i.useEffect)((function(){if(Array.isArray(T)&&T.length>0){var e=null===T||void 0===T?void 0:T.filter((function(e){return e._id===w.vehicleCategory}));0===(null===e||void 0===e?void 0:e.length)&&ve("","vehicleCategory")}}),[T]);Object(i.useEffect)((function(){var e,t=(null===(e=u.find((function(e){return e._id===w.state})))||void 0===e?void 0:e.districts)||[];ce((null===t||void 0===t?void 0:t.map((function(e){return{value:e._id,label:e.name,taluks:e.taluks}})))||[])}),[w.state]),Object(i.useEffect)((function(){var e,t=(null===$||void 0===$||null===(e=$.find((function(e){return e.value===w.district})))||void 0===e?void 0:e.taluks)||[];re(null===t||void 0===t?void 0:t.map((function(e){return{value:e._id,label:e.name}})))}),[w.district,$]),Object(i.useEffect)((function(){(function(){var e,t;return null===u||void 0===u||null===(e=u.find((function(e){return e._id===w.state})))||void 0===e||null===(t=e.districts.map((function(e){return e._id})))||void 0===t?void 0:t.includes(w.district)})()||ve("","district")}),[w.state]),Object(i.useEffect)((function(){(function(){var e,t,n,a;return null===u||void 0===u||null===(e=u.find((function(e){return e._id===w.state})))||void 0===e||null===(t=e.districts.find((function(e){return e._id===w.district})))||void 0===t||null===(n=t.taluks)||void 0===n||null===(a=n.map((function(e){return e._id})))||void 0===a?void 0:a.includes(w.taluk)})()||ve("","taluk")}),[w.district,$]);var Oe=function(){var e,t,n,a,l,i,s,r,o,d,u,j,b,m,v,O,h,x;f(!0),w.primaryPhoto=null===oe||void 0===oe||null===(e=oe.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.base64,w.otherPhotos=null===de||void 0===de||null===(a=de.current)||void 0===a||null===(l=a.uploadingFiles)||void 0===l?void 0:l.map((function(e){return e.base64})),w.registrationPhoto=null===ue||void 0===ue||null===(i=ue.current)||void 0===i||null===(s=i.uploadingFiles)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.base64,w.insurancePhoto=null===je||void 0===je||null===(o=je.current)||void 0===o||null===(d=o.uploadingFiles)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.base64,w.permitPhoto=null===be||void 0===be||null===(j=be.current)||void 0===j||null===(b=j.uploadingFiles)||void 0===b||null===(m=b[0])||void 0===m?void 0:m.base64,w.pollutionPhoto=null===me||void 0===me||null===(v=me.current)||void 0===v||null===(O=v.uploadingFiles)||void 0===O||null===(h=O[0])||void 0===h?void 0:h.base64,w.deletingFiles=null===de||void 0===de||null===(x=de.current)||void 0===x?void 0:x.deletingFiles,He.save(w,w._id?ut:dt).then((function(e){ae(e.message),fe(!1),c()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){f(!1)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(w._id?"Edit":"Add")+" Vehicle",style:{top:20},visible:p,okText:"Save",onOk:Oe,okButtonProps:{disabled:m||!B,style:{display:B?"inline-block":"none"}},onCancel:function(){fe(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:m,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),Oe()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!B,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Vehicle Id"})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Vehicle Id"}),Object(O.jsx)(_.a,{value:w.vehicleId||"",onChange:function(e){return ve(A.handleInteger(e.target.value),"vehicleId")}})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Service Type "})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Service Type"}),Object(O.jsx)(ee,{options:l,value:w.serviceType,onChange:function(e){ve(e,"serviceType")}})]}),(null===D||void 0===D?void 0:D.length)?Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Ride Types"}),Object(O.jsx)(ne,{options:D,col:4,value:w.rideTypes,onChange:function(e){!(null===e||void 0===e?void 0:e.length)||ve(e,"rideTypes")}})]}):null,(null===T||void 0===T?void 0:T.length)?Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Vehicle Categories"}),Object(O.jsx)(ee,{options:T,value:w.vehicleCategory||"",onChange:function(e){ve(e,"vehicleCategory")}})]}):null,Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Make Details "})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Make"}),Object(O.jsx)(ee,{options:r||[],value:w.make||"",onChange:function(e){ve(e,"make")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Model"}),Object(O.jsx)(ee,{options:G||[],value:w.model||"",onChange:function(e){ve(e,"model")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Color"}),Object(O.jsx)(ee,{options:o,value:w.color||"",onChange:function(e){ve(e,"color")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Manufacturing Year"}),Object(O.jsx)(te,{picker:"year",format:"YYYY",getFormat:"YYYY",disableUpcomingDate:!0,value:w.manufacturingYear||new Date,onChange:function(e){ve(e,"manufacturingYear")}})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Basic Details"})}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Name"}),Object(O.jsx)(_.a,{value:w.name||"",onChange:function(e){return ve(e.target.value,"name")},disabled:!0})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Vehicle Number"}),Object(O.jsx)(_.a,{value:w.vehicleNumber||"",onChange:function(e){return ve(e.target.value,"vehicleNumber")}})]}),"taxi"===(null===l||void 0===l||null===(n=l.find((function(e){return e._id===w.serviceType})))||void 0===n?void 0:n.key)?Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Available Seats"}),Object(O.jsx)(_.a,{value:w.availableSeats||"",onChange:function(e){return ve(A.handleInteger(e.target.value,2),"availableSeats")}})]}):null,"cargo"===(null===l||void 0===l||null===(a=l.find((function(e){return e._id===w.serviceType})))||void 0===a?void 0:a.key)?Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Available Capacity (in tons)"}),Object(O.jsx)(_.a,{value:w.availableCapacity||"",onChange:function(e){return ve(e.target.value,"availableCapacity")}})]}):null,Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"State"}),Object(O.jsx)(ee,{options:u.map((function(e){return{value:e._id,label:e.name}})),value:w.state,onChange:function(e){ve(e,"state")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"District"}),Object(O.jsx)(ee,{options:$||[],value:w.district,onChange:function(e){ve(e,"district")}})]}),Object(O.jsxs)("div",{className:"col-md-3 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Taluk"}),Object(O.jsx)(ee,{options:se||[],value:w.taluk,onChange:function(e){ve(e,"taluk")}})]}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-2 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Primary Image"}),Object(O.jsx)(ge,{ref:oe,fileCount:1,files:w.image?[w.image]:[]})]}),Object(O.jsxs)("div",{className:"col-md-10 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Images"}),Object(O.jsx)(ge,{ref:de,fileCount:4,files:w.otherPhotos?w.otherPhotos:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Registration"})}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Registration Number"}),Object(O.jsx)(_.a,{value:w.registrationNumber||"",onChange:function(e){return ve(e.target.value,"registrationNumber")}})]}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Registration Expiry Date"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",disablePastDate:!0,value:w.registrationExpiryDate||new Date,onChange:function(e){ve(e,"registrationExpiryDate")}})]}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Registration Image"}),Object(O.jsx)(ge,{ref:ue,fileCount:1,files:w.registrationImage?[w.registrationImage]:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Insurance"})}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Insurance Number"}),Object(O.jsx)(_.a,{value:w.insuranceNumber||"",onChange:function(e){return ve(e.target.value,"insuranceNumber")}})]}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Insurance Expiry Date"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",disablePastDate:!0,value:w.insuranceExpiryDate||new Date,onChange:function(e){ve(e,"insuranceExpiryDate")}})]}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Insurance Image"}),Object(O.jsx)(ge,{ref:je,fileCount:1,files:w.insuranceImage?[w.insuranceImage]:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Permit"})}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Permit Number"}),Object(O.jsx)(_.a,{value:w.permitNumber||"",onChange:function(e){return ve(e.target.value,"permitNumber")}})]}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Permit Expiry Date"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",disablePastDate:!0,value:w.permitExpiryDate||new Date,onChange:function(e){ve(e,"permitExpiryDate")}})]}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Permit Image"}),Object(O.jsx)(ge,{ref:be,fileCount:1,files:w.permitImage?[w.permitImage]:[]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(g.a,{orientation:"left",className:"text-danger",children:"Pollution Certificate"})}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Pollution Certificate Number"}),Object(O.jsx)(_.a,{value:w.pollutionNumber||"",onChange:function(e){return ve(e.target.value,"pollutionNumber")}})]}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Pollution Certificate Expiry Date"}),Object(O.jsx)(te,{format:"MMMM D, YYYY",disablePastDate:!0,value:w.pollutionExpiryDate||new Date,onChange:function(e){ve(e,"pollutionExpiryDate")}})]}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Pollution Certificate Image"}),Object(O.jsx)(ge,{ref:me,fileCount:1,files:w.pollutionImage?[w.pollutionImage]:[]})]}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:w.isActive,onChange:function(e){ve(e,"isActive")}})]})]})})})})})})})),mt=Object(i.forwardRef)((function(e,t){var n=Object(i.useState)(!1),a=Object(d.a)(n,2),c=a[0],l=a[1],s=Object(i.useState)({}),r=Object(d.a)(s,2),o=r[0],u=r[1];return Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){u(e),l(!0)}}})),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(Q.a,{style:{top:20},visible:c,onCancel:function(){l(!1)},destroyOnClose:!0,maskClosable:!1,width:200,closable:!1,footer:null,children:[Object(O.jsx)(h.a,{spinning:!0,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:"Loading"}),Object(O.jsx)(it,{vehicleData:o,setVisible:l})]})})})),ft={view:A.getModules("viewRideType"),add:A.getModules("addRideType"),edit:A.getModules("editRideType"),delete:A.getModules("deleteRideType")},vt=ft.view,Ot=ft.add,ht=ft.edit,xt=ft.delete;var pt=Object(i.forwardRef)((function(e,t){var n,a=e.list,c=e.serviceType,l=e.vehicleCategories,s=Object(i.useState)(!1),r=Object(d.a)(s,2),o=r[0],u=r[1],j=Object(i.useState)(!1),b=Object(d.a)(j,2),m=b[0],f=b[1],v=Object(i.useState)({}),x=Object(d.a)(v,2),p=x[0],g=x[1],N=Object(i.useState)(!1),y=Object(d.a)(N,2),k=y[0],w=y[1],C=Object(i.useRef)(),S=function(e){f(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){C.current={},g(e?Object(q.a)({},e):{isActive:!0}),S(!0),!(null===e||void 0===e?void 0:e._id)&&Ot||e._id&&ht?w(!0):w(!1)}}}));var M=function(e,t){g(Object(q.a)(Object(q.a)({},p),{},Object(L.a)({},t,e)))},A=function(){var e,t,n;u(!0),p.photo=null===C||void 0===C||null===(e=C.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.base64,$e.saveRideType(p,p._id?ht:Ot).then((function(e){ae(e.message),S(!1),a()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){u(!1)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(p._id?"Edit":"Add")+" Ride Type",style:{top:20},visible:m,okText:"Save",onOk:A,okButtonProps:{disabled:o||!k,style:{display:k?"inline-block":"none"}},onCancel:function(){S(!1)},destroyOnClose:!0,maskClosable:!1,width:1200,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:o,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),A()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!k,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Service Type"}),Object(O.jsx)(ee,{options:c,value:null===p||void 0===p||null===(n=p.serviceType)||void 0===n?void 0:n._id,disabled:p._id,onChange:function(e){}})]}),Object(O.jsxs)("div",{className:"col-md-6 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Name"}),Object(O.jsx)(_.a,{value:p.name||"",onChange:function(e){return M(e.target.value,"name")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Vehicle Categories"}),Object(O.jsx)(ne,{options:l,value:p.allowedVehicleCategories,onChange:function(e){!(null===e||void 0===e?void 0:e.length)||M(e,"allowedVehicleCategories")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Image"}),Object(O.jsx)(ge,{ref:C,fileCount:1,files:p.image?[p.image]:[]})]}),Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"col-md-4 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:p.isActive,onChange:function(e){M(e,"isActive")}})]})]})})})})})})})),gt={view:A.getModules("viewMake"),add:A.getModules("addMake"),edit:A.getModules("editMake"),delete:A.getModules("deleteMake")},Nt=gt.view,yt=gt.add,kt=gt.edit,wt=gt.delete;var Ct=Object(i.forwardRef)((function(e,t){var n=e.list,a=Object(i.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1],r=Object(i.useState)(!1),o=Object(d.a)(r,2),u=o[0],j=o[1],b=Object(i.useState)({}),m=Object(d.a)(b,2),f=m[0],v=m[1],x=Object(i.useState)(!1),p=Object(d.a)(x,2),g=p[0],N=p[1],y=Object(i.useRef)(),k=function(e){j(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){y.current={},v(e?Object(q.a)({},e):{isActive:!0}),k(!0),!(null===e||void 0===e?void 0:e._id)&&yt||e._id&&kt?N(!0):N(!1)}}}));var w=function(e,t){v(Object(q.a)(Object(q.a)({},f),{},Object(L.a)({},t,e)))};Object(i.useEffect)((function(){w(A.removeSpecialChars(f.name||""),"key")}),[f.name]);var C=function(){var e,t,a;s(!0),f.photo=null===y||void 0===y||null===(e=y.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.base64,He.saveMake(f,f._id?kt:yt).then((function(e){ae(e.message),k(!1),n()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){s(!1)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(f._id?"Edit":"Add")+" Make",style:{top:20},visible:u,okText:"Save",onOk:C,okButtonProps:{disabled:l||!g,style:{display:g?"inline-block":"none"}},onCancel:function(){k(!1)},destroyOnClose:!0,maskClosable:!1,width:400,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:l,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),C()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!g,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Name"}),Object(O.jsx)(_.a,{value:f.name||"",onChange:function(e){return w(e.target.value,"name")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Key"}),Object(O.jsx)(_.a,{value:f.key||"",onChange:function(e){return w(A.removeSpecialChars(e.target.value),"key")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:f.isActive,onChange:function(e){w(e,"isActive")}})]})]})})})})})})})),St={view:A.getModules("viewMakeModel"),add:A.getModules("addMakeModel"),edit:A.getModules("editMakeModel"),delete:A.getModules("deleteMakeModel")},Mt=St.view,At=St.add,Dt=St.edit,Ft=St.delete;var It=Object(i.forwardRef)((function(e,t){var n=e.list,a=e.makes,c=Object(i.useState)(!1),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(!1),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)({}),f=Object(d.a)(m,2),v=f[0],x=f[1],p=Object(i.useState)(!1),g=Object(d.a)(p,2),N=g[0],y=g[1],k=Object(i.useRef)(),w=function(e){b(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){k.current={},x(e?Object(q.a)({},e):{isActive:!0}),w(!0),!(null===e||void 0===e?void 0:e._id)&&At||e._id&&Dt?y(!0):y(!1)}}}));var C=function(e,t){x(Object(q.a)(Object(q.a)({},v),{},Object(L.a)({},t,e)))};Object(i.useEffect)((function(){C(A.removeSpecialChars(v.name||""),"key")}),[v.name]);var S=function(){var e,t,a;r(!0),v.photo=null===k||void 0===k||null===(e=k.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.base64,He.saveMakeModel(v,v._id?Dt:At).then((function(e){ae(e.message),w(!1),n()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){r(!1)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(v._id?"Edit":"Add")+" Make Model",style:{top:20},visible:j,okText:"Save",onOk:S,okButtonProps:{disabled:s||!N,style:{display:N?"inline-block":"none"}},onCancel:function(){w(!1)},destroyOnClose:!0,maskClosable:!1,width:400,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:s,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),S()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!N,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:a,value:v.make,onChange:function(e){C(e,"make")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Name"}),Object(O.jsx)(_.a,{value:v.name||"",onChange:function(e){return C(e.target.value,"name")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Key"}),Object(O.jsx)(_.a,{value:v.key||"",onChange:function(e){return C(A.removeSpecialChars(e.target.value),"key")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:v.isActive,onChange:function(e){C(e,"isActive")}})]})]})})})})})})})),Rt={view:A.getModules("viewColor"),add:A.getModules("addColor"),edit:A.getModules("editColor"),delete:A.getModules("deleteColor")},Tt=Rt.view,Lt=Rt.add,qt=Rt.edit,_t=Rt.delete;var Yt=Object(i.forwardRef)((function(e,t){var n=e.list,a=Object(i.useState)(!1),c=Object(d.a)(a,2),l=c[0],s=c[1],r=Object(i.useState)(!1),o=Object(d.a)(r,2),u=o[0],j=o[1],b=Object(i.useState)({}),m=Object(d.a)(b,2),f=m[0],v=m[1],x=Object(i.useState)(!1),p=Object(d.a)(x,2),g=p[0],N=p[1],y=Object(i.useRef)(),k=function(e){j(e)};Object(i.useImperativeHandle)(t,(function(){return{openForm:function(e){y.current={},v(e?Object(q.a)({},e):{isActive:!0}),k(!0),!(null===e||void 0===e?void 0:e._id)&&Lt||e._id&&qt?N(!0):N(!1)}}}));var w=function(e,t){v(Object(q.a)(Object(q.a)({},f),{},Object(L.a)({},t,e)))};Object(i.useEffect)((function(){w(A.removeSpecialChars(f.name||""),"key")}),[f.name]);var C=function(){var e,t,a;s(!0),f.photo=null===y||void 0===y||null===(e=y.current)||void 0===e||null===(t=e.uploadingFiles)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.base64,He.saveColor(f,f._id?qt:Lt).then((function(e){ae(e.message),k(!1),n()})).catch((function(e){"object"===typeof e.message?ae(e.message[Object.keys(e.message)[0]],"error"):ae(e.message,"error")})).finally((function(){s(!1)}))};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q.a,{title:(f._id?"Edit":"Add")+" Color",style:{top:20},visible:u,okText:"Save",onOk:C,okButtonProps:{disabled:l||!g,style:{display:g?"inline-block":"none"}},onCancel:function(){k(!1)},destroyOnClose:!0,maskClosable:!1,width:400,className:"app-modal-body-overflow",children:Object(O.jsx)(h.a,{spinning:l,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),C()},autoComplete:"off",spellCheck:"false",children:Object(O.jsx)("fieldset",{className:"",disabled:!g,children:Object(O.jsxs)("div",{className:"row mingap",children:[Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Name"}),Object(O.jsx)(_.a,{value:f.name||"",onChange:function(e){return w(e.target.value,"name")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Code"}),Object(O.jsx)(_.a,{type:"color",value:f.code||"",onChange:function(e){return w(e.target.value,"code")}})]}),Object(O.jsxs)("div",{className:"col-md-12 form-group",children:[Object(O.jsx)("label",{className:"req",children:"Status"}),Object(O.jsx)(ee,{options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],value:f.isActive,onChange:function(e){w(e,"isActive")}})]})]})})})})})})})),Et=A.getModules(),Ut=A.isSuperAdmin();Array.prototype.includesAny=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.some((function(t){return e.includes(t)}))};var Pt={leftNav:[{name:"Dashboard",icon:function(){return Object(O.jsx)(j.a,{})},url:"/",component:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{style:{height:"100vh"},children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Dashboard"})}),Object(O.jsx)("h2",{className:"text-secondary",children:"Dashboard Comming Soon..."})]})})}},{name:"Modules",icon:function(){return Object(O.jsx)(j.a,{})},url:"/modules",component:Pe},{name:"Tabs",url:"/vehicles",icon:function(){return Object(O.jsx)(b.a,{})},component:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"m-21 border p-2",children:Object(O.jsx)(Be,{})})})}},{name:"Vehicle",baseURL:"/vehicle",modules:[Rt.view,gt.view,St.view,Ke.view,rt.view],icon:function(){return Object(O.jsx)(b.a,{})},subMenus:[{name:"Color",url:"/color",component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!0),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useRef)(),u=Object(i.useState)({key:"",page:1,limit:20,total:0}),j=Object(d.a)(u,2),b=j[0],m=j[1],f=[{title:"Name",dataIndex:"name"},{title:"Color",dataIndex:"code",width:60,render:function(e){return Object(O.jsx)(K.a,{style:{backgroundColor:e},children:"\xa0"})}},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:90,hidden:!Lt&&!qt&&!_t&&!Tt,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[qt?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){o.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!qt&&Tt?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){o.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null,_t?Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this color?",onConfirm:function(){return h(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})}):null]})}}].filter((function(e){return!e.hidden})),v=function(e){"undefined"===typeof e&&(e=b),r(!0),He.listColor(e,Tt).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,m(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){r(!1)}))},h=function(e){He.deleteColor(e,_t).then((function(e){ae(e.message),v()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){v()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Color List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:f,parentSData:b,loading:s,formRef:o,list:v,searchPlaceholder:"Name or Code",addNew:Lt})}),Object(O.jsx)(Yt,{ref:o,list:v})]})},modules:[Rt.view]},{name:"Make",url:"/make",component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!0),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useRef)(),u=Object(i.useState)({key:"",page:1,limit:20,total:0}),j=Object(d.a)(u,2),b=j[0],m=j[1],f=[{title:"Name",dataIndex:"name"},{title:"Key",dataIndex:"key",width:200},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:90,hidden:!yt&&!kt&&!wt&&!Nt,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[kt?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){o.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!kt&&Nt?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){o.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null,wt?Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this make?",onConfirm:function(){return h(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})}):null]})}}].filter((function(e){return!e.hidden})),v=function(e){"undefined"===typeof e&&(e=b),r(!0),He.listMake(e,Nt).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,m(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){r(!1)}))},h=function(e){He.deleteMake(e,wt).then((function(e){ae(e.message),v()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){v()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Make List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:f,parentSData:b,loading:s,formRef:o,list:v,searchPlaceholder:"Name or Key",addNew:yt})}),Object(O.jsx)(Ct,{ref:o,list:v})]})},modules:[gt.view]},{name:"Make Model",url:"/make-model",component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!0),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)([]),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useRef)(),f=Object(i.useState)({key:"",page:1,limit:20,total:0}),v=Object(d.a)(f,2),h=v[0],x=v[1],g=[{title:"Name",dataIndex:"name"},{title:"Key",dataIndex:"key",width:200},{title:"Make",dataIndex:"makeDetails",width:200,render:function(e){return Object(O.jsx)(K.a,{children:e.name})}},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:90,hidden:!At&&!Dt&&!Ft&&!Mt,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[Dt?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){m.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!Dt&&Mt?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){m.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null,Ft?Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this make model?",onConfirm:function(){return y(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})}):null]})}}].filter((function(e){return!e.hidden})),N=function(e){"undefined"===typeof e&&(e=h),r(!0),He.listMakeModel(e,Mt).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,x(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){r(!1)}))},y=function(e){He.deleteMakeModel(e,Ft).then((function(e){ae(e.message),N()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){N(),He.listAllMake().then((function(e){b(e.result.data)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Make Model List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:g,parentSData:h,loading:s,formRef:m,list:N,searchPlaceholder:"Name or Key",addNew:At})}),Object(O.jsx)(It,{ref:m,list:N,makes:j})]})},modules:[St.view]},{name:"Category",url:"/category",component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!0),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useRef)(),u=Object(i.useState)({key:"",page:1,limit:20,total:0}),j=Object(d.a)(u,2),b=j[0],m=j[1],f=[{title:"Image",dataIndex:"image",width:100,render:function(e){return Object(O.jsx)(x.a,{height:30,preview:{mask:"View"},src:null===e||void 0===e?void 0:e.url})}},{title:"Name",dataIndex:"name"},{title:"Slug",dataIndex:"slug",width:200},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:90,hidden:!Ge&&!Ze&&!Qe&&!Je,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[Ze?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){o.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!Ze&&Je?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){o.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null,Qe?Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this category?",onConfirm:function(){return h(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})}):null]})}}].filter((function(e){return!e.hidden})),v=function(e){"undefined"===typeof e&&(e=b),r(!0),He.listCategory(e,Je).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,m(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){r(!1)}))},h=function(e){He.deleteCategory(e,Qe).then((function(e){ae(e.message),v()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){v()}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Vehicle Category List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:f,parentSData:b,loading:s,formRef:o,list:v,searchPlaceholder:"Name or Slug",addNew:Ge})}),Object(O.jsx)(We,{ref:o,list:v})]})},modules:[Ke.view]},{name:"Vehicle",url:"/vehicle",component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)(!0),f=Object(d.a)(m,2),v=f[0],h=f[1],g=Object(i.useState)(),N=Object(d.a)(g,2),y=N[0],k=N[1],w=Object(i.useState)([]),C=Object(d.a)(w,2),S=C[0],M=C[1],D=Object(i.useState)([]),F=Object(d.a)(D,2),I=F[0],R=F[1],T=Object(i.useState)([]),L=Object(d.a)(T,2),_=L[0],Y=L[1],E=Object(i.useRef)(),U=Object(i.useRef)(),P=Object(i.useState)({key:"",page:1,limit:20,total:0}),z=Object(d.a)(P,2),V=z[0],B=z[1],H=[{title:"Image",dataIndex:"image",width:100,render:function(e){return Object(O.jsx)(x.a,{height:30,preview:{mask:"View"},src:null===e||void 0===e?void 0:e.url})}},{title:"Vehicle Id",dataIndex:"vehicleId",width:150},{title:"Name",dataIndex:"name"},{title:"Vehicle Number",dataIndex:"vehicleNumber",width:200},{title:"Driver",dataIndex:"",width:80,hidden:!A.getModules("viewDriver"),render:function(e,t){return Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){U.current.openForm(t)},children:Object(O.jsx)("span",{className:"d-flex",children:"Driver"})})}},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:90,hidden:!dt&&!ut&&!jt&&!ot,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[ut?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){E.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!ut&&ot?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){E.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null,jt?Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this vehicle?",onConfirm:function(){return G(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})}):null]})}}].filter((function(e){return!e.hidden})),J=function(e){"undefined"===typeof e&&(e=V),h(!0),He.list(e,ot).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,B(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){h(!1)}))},G=function(e){He.delete(e,jt).then((function(e){ae(e.message),J()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){J(),Xe.listServiceType().then((function(e){r(e.result.data)})),$e.listAllRideType({},"viewRideType").then((function(e){b(e.result.data)})),He.listAllMake({models:1,active:1,modelActive:1},"viewMake").then((function(e){k(e.result.data)})),He.listAllColor({},"viewColor").then((function(e){M(e.result.data)})),Ne.listSdt("ignoreModule").then((function(e){R(e.result.data||[])}))}),[]),Object(i.useEffect)((function(){Y([{type:"dropdown",key:"serviceType",placeholder:"Service Type",className:"w200 mx-1",options:s}])}),[s]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Vehicle List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:H,filters:_,parentSData:V,loading:v,formRef:E,list:J,searchPlaceholder:"Name",addNew:dt})}),Object(O.jsx)(bt,{ref:E,list:J,serviceType:s,rideTypes:j,makes:y,colors:S,sdt:I}),Object(O.jsx)(mt,{ref:U})]})},modules:[rt.view]}].filter((function(e){var t;return Ut||(null===(t=e.modules)||void 0===t?void 0:t.includesAny(Et))}))},{name:"Ride",baseURL:"/ride",modules:[ft.view],icon:function(){return Object(O.jsx)(b.a,{})},subMenus:[{name:"Type",url:"/type",component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!0),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)([]),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)([]),f=Object(d.a)(m,2),v=f[0],h=f[1],g=Object(i.useState)([]),N=Object(d.a)(g,2),y=N[0],k=N[1],w=Object(i.useRef)(),C=Object(i.useState)({key:"",page:1,limit:20,total:0}),S=Object(d.a)(C,2),M=S[0],A=S[1],D=[{title:"Image",dataIndex:"image",width:100,render:function(e){return Object(O.jsx)(x.a,{height:30,preview:{mask:"View"},src:null===e||void 0===e?void 0:e.url})}},{title:"Name",dataIndex:"name",width:200},{title:"Allowed Vehicle Categories",dataIndex:"allowedVehicleCategoriesDetails",render:function(e,t){return e.map((function(e,t){return Object(O.jsx)(K.a,{color:t%4===0?"blue":t%4===1?"gold":t%4===2?"cyan":"pink",children:e.name},t)}))}},{title:"Service Type",dataIndex:"serviceType",width:100,render:function(e){return"cargo"===e.key?Object(O.jsx)(K.a,{color:"magenta",children:e.name}):Object(O.jsx)(K.a,{color:"orange",children:e.name})}},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:60,hidden:!Ot&&!ht&&!xt&&!vt,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[ht?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){w.current.openForm(Object(q.a)({serviceType:null===M||void 0===M?void 0:M.serviceType},e))},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!ht&&vt?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){w.current.openForm(Object(q.a)({serviceType:null===M||void 0===M?void 0:M.serviceType},e))},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null]})}}].filter((function(e){return!e.hidden})),F=function(e){"undefined"===typeof e&&(e=M),r(!0),$e.listRideType(e,vt).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,A(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){r(!1)}))};return Object(i.useEffect)((function(){F(),Xe.listServiceType().then((function(e){b(e.result.data)})),He.listAllCategory({},"viewVehicleCategory").then((function(e){k(e.result.data)}))}),[]),Object(i.useEffect)((function(){h([{type:"dropdown",key:"serviceType",placeholder:"Service Type",className:"w200 mx-1",options:j}])}),[j]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Ride Type List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:D,parentSData:M,filters:v,loading:s,formRef:w,list:F,searchPlaceholder:"Name or Slug",addNew:!1})}),Object(O.jsx)(pt,{ref:w,list:F,serviceType:j,vehicleCategories:y})]})},modules:[ft.view]}].filter((function(e){var t;return Ut||(null===(t=e.modules)||void 0===t?void 0:t.includesAny(Et))}))},{name:"Drivers",url:"/drivers",icon:function(){return Object(O.jsx)(m.a,{})},component:it,modules:[tt.view]},{name:"Admins",url:"/users",icon:function(){return Object(O.jsx)(m.a,{})},component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(!0),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useRef)(),f=Object(i.useState)({key:"",page:1,limit:20,total:0}),v=Object(d.a)(f,2),h=v[0],x=v[1],g=[{title:"Name",dataIndex:"firstName",render:function(e,t){return t.firstName+" "+t.lastName}},{title:"User Type",dataIndex:"type",width:150,render:function(e){return Object(O.jsx)(K.a,{color:"stateAdmin"===e?"geekblue":"districtAdmin"===e?"magenta":"talukAdmin"===e?"orange":"",children:"stateAdmin"===e?"State Admin":"districtAdmin"===e?"District Admin":"talukAdmin"===e?"Taluk Admin":""})}},{title:"Email",dataIndex:"email",width:200},{title:"Phone No",dataIndex:"phoneNo",width:100},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:90,hidden:!Le&&!qe&&!_e&&!Te,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[qe?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){m.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!qe&&Te?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){m.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null,_e?Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this admin?",onConfirm:function(){return y(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})}):null]})}}].filter((function(e){return!e.hidden})),N=function(e){"undefined"===typeof e&&(e=h),b(!0),T.list(e,Te).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,x(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){b(!1)}))},y=function(e){T.delete(e,_e).then((function(e){ae(e.message),N()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){N(),Ne.listSdt("ignoreModule").then((function(e){r(e.result.data||[])}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Admin List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:g,parentSData:h,loading:j,formRef:m,list:N,searchPlaceholder:"First Name or Last Name",addNew:Le})}),Object(O.jsx)(Ye,{ref:m,list:N,sdt:s})]})},modules:[Re.view]},{name:"Customers",url:"/customers",icon:function(){return Object(O.jsx)(m.a,{})},component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(!0),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useRef)(),f=Object(i.useState)({key:"",page:1,limit:20,total:0}),v=Object(d.a)(f,2),h=v[0],x=v[1],g=[{title:"Name",dataIndex:"firstName",render:function(e,t){return t.firstName+" "+t.lastName}},{title:"Email",dataIndex:"email",width:150},{title:"Phone No",dataIndex:"phoneNo",width:100},{title:"Status",dataIndex:"isActive",width:80,render:function(e){return e?Object(O.jsx)(K.a,{color:"green",children:"Active"}):Object(O.jsx)(K.a,{color:"red",children:"Inactive"})}},{title:"Action",width:90,hidden:!we&&!Ce&&!Se,render:function(e,t){return Object(O.jsxs)(O.Fragment,{children:[Ce?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){m.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})}):null,!Ce&&ke?Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){m.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(ve.a,{})})}):null,Se?Object(O.jsx)(p.a,{type:"danger",size:"small",children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(me.a,{title:"Are you sure to delete this admin?",onConfirm:function(){return y(t._id)},okText:"Yes",cancelText:"No",children:Object(O.jsx)(Oe.a,{})})})}):null]})}}].filter((function(e){return!e.hidden})),N=function(e){"undefined"===typeof e&&(e=h),b(!0),he.list(e,ke).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,x(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){b(!1)}))},y=function(e){he.delete(e,Se).then((function(e){ae(e.message),N()})).catch((function(e){ae(e.message,"error")}))};return Object(i.useEffect)((function(){N(),Ne.listSdt("ignoreModule").then((function(e){r(e.result.data||[])}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Customer List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:g,parentSData:h,loading:j,formRef:m,list:N,searchPlaceholder:"First Name or Last Name",addNew11:we})}),Object(O.jsx)(Me,{ref:m,list:N,sdt:s})]})},modules:[ye.view]},{name:"User Permissions",url:"/user-permissions",icon:function(){return Object(O.jsx)(f.a,{})},component:function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(!0),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useRef)(),f=Object(i.useState)({key:"",page:1,limit:20,total:0}),v=Object(d.a)(f,2),h=v[0],x=v[1],g=[{title:"User Type",dataIndex:"typeName",width:150},{title:"Granted Modules",dataIndex:"grantedModuleTitles",render:function(e,t){return e.map((function(e,n){return Object(O.jsx)(K.a,{color:n%4===0?"blue":n%4===1?"gold":n%4===2?"cyan":"pink",children:e.title},t.grantedModules[n])}))}},{title:"Action",key:"action",width:60,render:function(e,t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.a,{size:"small",className:"mx-1",onClick:function(){m.current.openForm(e)},children:Object(O.jsx)("span",{className:"d-flex",children:Object(O.jsx)(fe.a,{})})})})}}].filter((function(e){return!e.hidden})),N=function(e){"undefined"===typeof e&&(e=h),b(!0),Ae.listAdminModules(e).then((function(t){var n,c,l=e;l.total=(null===(n=t.result)||void 0===n?void 0:n.total)||0,x(Object(q.a)({},l)),a((null===(c=t.result)||void 0===c?void 0:c.data)||[])})).catch((function(e){ae(e.message,"error")})).finally((function(){b(!1)}))};return Object(i.useEffect)((function(){N(),Ae.listModulesAll().then((function(e){r(e.result.data||[])}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"page-description text-white p-2",children:Object(O.jsx)("span",{children:"Customer List"})}),Object(O.jsx)("div",{className:"m-2 border p-2",children:Object(O.jsx)(je,{data:n,columns:g,parentSData:h,loading:j,formRef:m,list:N,searchPlaceholder:"First Name or Last Name",addNew:!1})}),Object(O.jsx)(De,{ref:m,list:N,modules:s})]})}}].filter((function(e){var t;return Ut||(null===(t=e.modules)||void 0===t?void 0:t.includesAny(Et))})),topNav:[{name:"Your Profile",icon:function(){return Object(O.jsx)(v.a,{style:{marginRight:8},size:30,src:"images/avatar-1.jpg"})},url:"/profile",component:function(){var e,t,n=Object(i.useState)({}),a=Object(d.a)(n,2),c=a[0],l=a[1],s=Object(i.useState)(!0),r=Object(d.a)(s,2),o=r[0],u=r[1],j=Object(i.useRef)(),b=function(e){u(!0),T.details(e).then((function(e){var t;l((null===(t=e.result)||void 0===t?void 0:t.data)||{}),u(!1),j.current.closeForm()})).catch((function(e){u(!1),ae(e.message,"error")}))};return Object(i.useEffect)((function(){b()}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(h.a,{spinning:o,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:[Object(O.jsx)(oe,{ref:j,list:b}),Object(O.jsxs)("div",{className:"p-2 d-flex w-100",children:[Object(O.jsxs)("div",{className:"px-3",children:[Object(O.jsx)(x.a,{className:"w200",src:(null===(e=c.image)||void 0===e?void 0:e.url)||""}),Object(O.jsx)(p.a,{type:"dashed",className:"w200",onClick:function(){j.current.openForm()},children:"Edit Profile"})]}),Object(O.jsxs)("div",{className:"px-3 w-100",children:[Object(O.jsxs)("h5",{className:"text-secondary text-bold",children:[c.name||""," ",Object(O.jsxs)("span",{className:"text-danger h6",children:["@",c.username||""]})]}),Object(O.jsx)("p",{className:"text-info text-bold",children:(null===(t=c.user_type)||void 0===t?void 0:t.title)||""}),Object(O.jsx)(g.a,{orientation:"left",children:"Contact Info"}),Object(O.jsx)("table",{children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"w100 text-bold",children:"Phone: "}),Object(O.jsx)("td",{className:"text-info",children:c.mobile||""})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"w100 text-bold",children:"Address: "}),Object(O.jsx)("td",{className:"text-secondary",children:c.address||""})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"w100 text-bold",children:"Email: "}),Object(O.jsx)("td",{className:"text-info",children:c.email||""})]})]})}),Object(O.jsx)(g.a,{orientation:"left",children:"Basic Info"}),Object(O.jsx)("table",{children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"w100 text-bold",children:"Birthday: "}),Object(O.jsx)("td",{className:"text-info",children:z()(c.dob).format("MMMM D, YYYY")})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"w100 text-bold",children:"Gender: "}),Object(O.jsx)("td",{className:"text-secondary",children:"male"===c.gender?"Male":"female"===c.gender?"Female":"Other"})]})]})})]})]})]})})}}]},zt=n(56),Vt=u.a.SubMenu;function Bt(){var e=Object(Ee.g)(),t=Object(i.useState)(e.pathname),n=Object(d.a)(t,2),a=n[0],c=n[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.a,{onClick:function(e){c(e.key)},style:{width:256},defaultOpenKeys:["sub1"],selectedKeys:a,mode:"inline",id:"left-menu-bar",children:Pt.leftNav.map((function(e,t){var n;return Object(O.jsx)(i.Fragment,{children:(null===(n=e.subMenus)||void 0===n?void 0:n.length)?Object(O.jsx)(Vt,{icon:Object(O.jsx)(e.icon,{}),title:e.name,children:e.subMenus.map((function(t){return Object(O.jsx)(u.a.Item,{children:Object(O.jsx)(zt.b,{className:"text-d-none",to:(e.baseURL||"")+t.url,children:t.name})},t.module||t.url)}))},e.name.replace(/ /g,"")):Object(O.jsx)(u.a.Item,{icon:Object(O.jsx)(e.icon,{}),children:Object(O.jsx)(zt.b,{className:"text-d-none",to:e.url,children:e.name})},e.url)},t)}))})})}var Ht=n(314),Kt=n(315);function Jt(){return Object(O.jsxs)("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(O.jsx)("rect",{fill:"none",height:"24",width:"24"}),Object(O.jsx)("path",{d:"M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0 c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2 c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1 C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06 c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41 l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41 c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36 c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"})]})}function Gt(){return Object(O.jsxs)("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(O.jsx)("rect",{fill:"none",height:"24",width:"24"}),Object(O.jsx)("path",{fill:"white",d:"M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36c-0.98,1.37-2.58,2.26-4.4,2.26 c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"})]})}var Zt=u.a.SubMenu;function Qt(){var e=Object(Ee.g)(),t=Object(i.useState)(e.pathname),n=Object(d.a)(t,2),a=n[0],c=n[1],l=Object(i.useState)("undefined"===typeof A.getTheme?A.setTheme("light"):A.getTheme()),s=Object(d.a)(l,2),r=s[0],o=s[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(u.a,{onClick:function(e){c(e.key)},selectedKeys:a,mode:"horizontal",children:[Object(O.jsx)(u.a.Item,{id:"menu-bar-logo",style:{width:256},children:Object(O.jsx)(x.a,{preview:!1,style:{height:"24px"},src:"images/logo-thumb.png"})},"mail"),Object(O.jsx)(u.a.Item,{className:"mr-auto",onClick:function(){var e,t,n,a;null===(e=document.querySelector("#left-menu-bar"))||void 0===e||null===(t=e.classList)||void 0===t||t.toggle("d-none"),null===(n=document.querySelector("#menu-bar-logo"))||void 0===n||null===(a=n.classList)||void 0===a||a.toggle("d-none")},children:Object(O.jsx)(Ht.a,{})},"menu"),Object(O.jsx)(u.a.Item,{icon:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(re,{cond:"light"===r,children:Object(O.jsx)(Jt,{})}),Object(O.jsx)(re,{cond:"dark"===r,children:Object(O.jsx)(Gt,{})})]}),onClick:function(){var e;o(e="light"===r?"dark":"light"),A.setTheme(e)}},"light"),Pt.topNav.map((function(e,t){var n;return Object(O.jsx)(i.Fragment,{children:(null===(n=e.subMenus)||void 0===n?void 0:n.length)?Object(O.jsx)(Zt,{icon:Object(O.jsx)(e.icon,{}),title:e.name,children:e.subMenus.map((function(t){return Object(O.jsx)(u.a.Item,{children:Object(O.jsx)(zt.b,{className:"text-d-none",to:(e.baseURL||"")+t.url,children:t.name})},t.url)}))},e.name.replace(/ /g,"")):Object(O.jsx)(u.a.Item,{icon:Object(O.jsx)(e.icon,{}),children:Object(O.jsx)(zt.b,{className:"text-d-none",to:e.url,children:e.name})},e.url)},t)})),Object(O.jsx)(u.a.Item,{icon:Object(O.jsx)(Kt.a,{}),onClick:function(){A.logout()},children:"Logout"},"logout")]})})}var Wt=n(305);function Xt(){return Object(O.jsx)(Wt.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(O.jsx)(zt.b,{to:"/",children:Object(O.jsx)(p.a,{type:"primary",children:"Back Home"})})})}function $t(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Qt,{}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)("div",{className:"nav-overflow",children:Object(O.jsx)(Bt,{})}),Object(O.jsx)("div",{className:"content-data",children:Object(O.jsxs)(Ee.c,{children:[Pt.leftNav.map((function(e,t){var n;return(null===(n=e.subMenus)||void 0===n?void 0:n.length)?e.subMenus.map((function(t){return Object(O.jsx)(Ee.a,{exact:!0,path:e.baseURL+t.url,children:Object(O.jsx)(t.component,{})},t.module||t.url)})):Object(O.jsx)(Ee.a,{exact:!0,path:e.url,children:Object(O.jsx)(e.component,{})},e.module||e.url)})),Pt.topNav.map((function(e,t){var n;return(null===(n=e.subMenus)||void 0===n?void 0:n.length)?e.subMenus.map((function(t){return Object(O.jsx)(Ee.a,{exact:!0,path:e.baseURL+t.url,children:Object(O.jsx)(t.component,{})},t.module||t.url)})):Object(O.jsx)(Ee.a,{exact:!0,path:e.url,children:Object(O.jsx)(e.component,{})},e.module||e.url)})),Object(O.jsx)(Ee.a,{path:"*",children:Object(O.jsx)(Xt,{})})]})})]})]})}var en=n(316),tn=n(317),nn=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"login",value:function(e){return R.post("user/login",e,{module:"ignoreModule"})}},{key:"validateToken",value:function(e){return R.post("user/validate-token",e,{module:"ignoreModule"})}}]),e}();function an(){var e=Object(i.useState)("superadmin@test.com"),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)("123456"),l=Object(d.a)(c,2),s=l[0],r=l[1],o=Object(i.useState)(!1),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(i.useState)(!1),f=Object(d.a)(m,2),v=f[0],x=f[1],g=function(){b(!0),nn.login({email:n,password:s}).then((function(e){ae(e.message),A.setUserData(e.data),window.location.reload()})).catch((function(e){"string"!==typeof e.message?ae(e.message[Object.keys(e.message)[0]][0],"error"):ae(e.message,"error")})).finally((function(){b(!1)}))};return Object(O.jsx)(h.a,{spinning:j,indicator:Object(O.jsx)(Y.a,{style:{fontSize:24},spin:!0}),children:Object(O.jsx)("div",{className:"d-flex h100vh bg-light1",children:Object(O.jsx)("div",{className:"w280 mx-auto mt-5 border p-4 bg-white1 h280",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g()},autoComplete:"off",spellCheck:"false",children:[Object(O.jsx)("h5",{className:"text-secondary text-center",children:"Cargo Admin Panel"}),Object(O.jsx)("div",{className:"ant-image w-100 mb-3",children:Object(O.jsx)("img",{className:"ant-image-img w-100 mx-auto",src:"images/logo-thumb.png",alt:"Logo"})}),Object(O.jsx)(_.a,{className:"mb-2",prefix:Object(O.jsx)(en.a,{className:"site-form-item-icon"}),value:n,onChange:function(e){a(e.target.value)},placeholder:"Username"}),Object(O.jsx)(_.a,{className:"mb-2",prefix:Object(O.jsx)(tn.a,{className:"site-form-item-icon"}),value:s,onChange:function(e){r(e.target.value)},type:v?"text":"password",suffix:Object(O.jsx)(p.a,{type:"text",shape:"circle",icon:Object(O.jsx)(ve.a,{}),onClick:function(){return x(!v)}}),placeholder:"Password"}),Object(O.jsx)(p.a,{className:"login-form-button w-100",type:"primary",htmlType:"submit",onClick:g,children:"Log in"})]})})})})}var cn=function(){var e=Object(i.useState)(A.isLogged()),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){nn.validateToken().then((function(e){a(!0),Fe.userType=e.type})).catch((function(e){a(!1),window.localStorage.clear()}))}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(zt.a,{basename:"/cargo/admin",children:[Object(O.jsx)(re,{cond:n,children:Object(O.jsx)($t,{})}),Object(O.jsx)(re,{cond:!n,children:Object(O.jsx)(an,{})})]})})},ln=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,318)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,l=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),l(e),i(e)}))};Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("dark"!==A.getTheme()){e.next=5;break}return e.next=3,A.setTheme("dark");case 3:e.next=7;break;case 5:return e.next=7,A.setTheme("light");case 7:o.a.render(Object(O.jsx)(cn,{}),document.getElementById("root"));case 8:case"end":return e.stop()}}),e)})))(),ln()}},[[294,1,2]]]);
//# sourceMappingURL=main.7c0429b9.chunk.js.map